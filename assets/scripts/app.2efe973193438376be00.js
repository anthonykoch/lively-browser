webpackJsonp([4],{"/PmQ":function(t,e){},"/mK7":function(t,e){},"/o5o":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"Modal",components:{FocusLock:n("oEDu").default},props:{id:{type:String,required:!0}},data:function(){return{isHidden:!0}},computed:{titleId:function(){return this.id+"-modal-title"}},methods:{close:function(){this.$emit("close")}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("focus-lock",[n("div",{attrs:{"aria-hidden":t.isHidden,id:t.id}},[n("div",{attrs:{tabindex:"-1","data-a11y-dialog-hide":""}}),t._v(" "),n("div",{staticClass:"Modal-content",attrs:{"aria-labelledby":t.titleId,role:"dialog"}},[n("div",{attrs:{role:"document"}},[n("button",{staticClass:"Modal-close",attrs:{role:"button","aria-label":"Close this dialog window"},on:{click:t.close}},[t._v("\n          ×\n        ")]),t._v(" "),t._t("default",null,{id:t.id})],2)])])])},staticRenderFns:[]};var r=n("VU/8")(i,o,!1,function(t){n("YwhV")},null,null);e.default=r.exports},0:function(t,e,n){n("u7Vc"),t.exports=n("NHnr")},"1Iz/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{AppEditorNotification:n("j/af").default},props:{items:{type:Array,required:!0}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{staticClass:"EditorNotificationList",attrs:{name:"t-EditorNotificationList-item",tag:"ul"}},t._l(t.items,function(e){return e.isShowing?n("li",{key:e.id,staticClass:"EditorNotificationList-item"},[n("app-editor-notification",{attrs:{notification:e}})],1):t._e()}))},staticRenderFns:[]};var r=n("VU/8")(i,o,!1,function(t){n("AUw+")},null,null);e.default=r.exports},"3t0T":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n("Biqn"),s=n.n(r),a=n("e1na"),u=n.n(a),c=n("W9Ws"),l=n.n(c),h=n("1iCT"),d=n.n(h),f=n("En79"),p=n.n(f),m=n("7hDC"),g=n.n(m),v=n("SedD"),y=n.n(v),E=n("7+uW"),k=n("M4fF"),w=n.n(k),S=n("NFIW"),x=n.n(S),b=n("8jGF"),_=n("G/BR"),C=E.a.extend(n("UvzK").default),I=function(t){return[{line:t.start.line-1,ch:t.start.column},{line:t.end.line-1,ch:t.end.column}]},P={name:"EditorSandbox",components:{AppEditor:n("aek+").default,AppSandbox:n("o+Ie").default},props:{editorId:{type:String,required:!0},value:{required:!0,type:String},shouldExecute:{type:Boolean,required:!0},shouldExecuteOnReady:{type:Boolean,default:function(){return!1}},activeWalkthroughStepIndex:{type:Number,default:function(){return-1}},isWalkthroughMarkerShowing:{type:Boolean,required:!0},isWalkthroughPopupShowing:{type:Boolean,required:!0}},data:function(t){return{insertions:{items:y()([])},coverage:y()({ids:[],values:[]}),local_activeWalkthroughStepIndex:t.$props.activeWalkthroughStepIndex,phantoms:y()([]),origin:x()(),activeExecId:0,filename:"/lively.js",dirname:"/",logger:_.a}},watch:{shouldExecute:function(t){!0===t&&this.runScript()},activeWalkthroughStepIndex:function(t,e){this.renderWalkthroughStep(t)},isWalkthroughMarkerShowing:function(t){this.renderWalkthroughStep(this.activeWalkthroughStepIndex)},isWalkthroughPopupShowing:function(t){this.renderWalkthroughStep(this.activeWalkthroughStepIndex)}},mounted:(o=g()(p.a.mark(function t(){var e=this;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.cm=this.$refs.editor.cm,this.cm.on("change",this.onEditorChange),this.cm.on("changes",this.onEditorChanges),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("focus",this.onEditorFocus),this.cm.on("blur",this.onEditorBlur),window.addEventListener("click",this.onWindowClick),this.popups=this.createPopups(),this.shouldExecuteOnReady&&this.$once("ready",function(){e.runScript()});case 9:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)}),created:function(){var t,e=this;this.imports=d.a.all([n.e(0).then(n.bind(null,"k6wz")),n.e(1).then(n.bind(null,"GZXu"))]).then(function(t){var n=t[0].default,i=t[1];e.instrument=i,e.transform=n,e.$emit("ready")}),this.delayedImports=d.a.all([(t=3e3,new d.a(function(e){return setTimeout(e,t)})).then(function(){return n.e(2).then(n.bind(null,"jMz+"))})]).then(function(t){var n=t[0].js_beautify;e.beautify=function(t,e){return void 0===e&&(e=35),null==e||e===1/0||t.length>e?n(t,{indent_size:2}):t}}),this.lastChangedLine=null,this.activeExecution=null,this.timeouts={},this.phantoms=[],this.transform=null,this.maxWalkthroughStep=0,this.activeWalkthroughInsertionId=null,this.renders={},this.beautify=function(t){return t}},beforeDestroy:function(){this.cm.off("changes",this.onEditorChanges),this.cm.off("change",this.onEditorChange),this.cm=null,this.destroyPopups(),window.removeEventListener("click",this.onWindowClick)},methods:{destroyPopups:function(){l()(this.popups).forEach(function(t){t.$destroy()}),this.popups={}},createPopups:function(){var t={walkthrough:new C({propsData:{cm:this.cm}}),expressionHover:new C({propsData:{cm:this.cm}}),phantomHover:new C({propsData:{cm:this.cm}})};return t.phantomHover.$on("popup-mouse-enter",this.onPhantomPopupEnter),t.phantomHover.$on("popup-mouse-leave",this.onPhantomPopupLeave),l()(t).forEach(function(t){t.$mount()}),t},keyWalkthroughNext:function(t){t.preventDefault(),this.stepNextInWalkthrough()},keyWalkthroughPrevious:function(t){t.preventDefault(),this.stepPreviousInWalkthrough()},onCursorActivity:function(){},canShowWalkthroughStepIndex:function(t){var e;return"thorough"===(null===(e=this.activeExecution)||void 0===e?void 0:e.instrumentor)&&t>-1&&u()(t)&&this.coverage.ids.hasOwnProperty(t)},isInsertionPastChangedLine:function(t){return null!=this.lastChangedLine&&t.node.loc.end.line>=this.lastChangedLine+1},getInsertionDataFromIndex:function(t,e){void 0===e&&(e=!0);for(var n=this.coverage.ids[t],i=this.insertions.items,o=null,r=0;r<i.length;r++)if(i[r].id===n){if(o=i[r],e&&null!=this.lastChangedLine&&o.node.loc.end.line>=this.lastChangedLine+1)break;break}return{fromIndex:t,insertion:o,foundIndex:null==o?null:r}},showWalkthroughPopup:function(t){var e=this.activeWalkthroughStepIndex;if(this.isInsertionPastChangedLine(t)){var n=t.node.loc,i=this.cm.getViewport().from;this.popups.walkthrough.show({content:[{content:"This point can not be highlighted because it has been modified",type:"info"},{partials:[{content:n.start.line+":"+n.start.column},{type:b.a.Code,content:this.beautify(this.coverage.values[e])}]}],loc:{line:i,column:0}})}else{var o=I(t.node.loc),r=o[0].line===o[1].line?o[0].ch:o[1].ch-1;this.activeWalkthroughInsertionId=t.id,this.isWalkthroughPopupShowing&&this.popups.walkthrough.show({content:[{type:b.a.Code,content:this.beautify(this.coverage.values[e])}],loc:{line:o[1].line,column:r}})}},showWalkthroughMarker:function(t){var e=I(t.node.loc);this.hideWalkthroughMarker(),this.isInsertionPastChangedLine(t)||(this.walkthroughMarker=this.cm.doc.markText(e[0],e[1],{className:"WalkthoughtStep"}))},renderWalkthroughStep:function(){var t=this.activeWalkthroughStepIndex;if(!this.canShowWalkthroughStepIndex(t))return null;var e=this.getInsertionDataFromIndex(t).insertion;return null==e?null:(this.isWalkthroughMarkerShowing?this.showWalkthroughMarker(e):this.hideWalkthroughMarker(),this.isWalkthroughPopupShowing?this.showWalkthroughPopup(e):this.hideWalkthroughPopup(),e)},hideWalkthrough:function(){this.activeWalkthroughInsertionId=null,this.popups.walkthrough.hide(),this.walkthroughMarker&&this.walkthroughMarker.clear()},hideWalkthroughPopup:function(){this.popups.walkthrough.cancelAllShow(),this.popups.walkthrough.hide()},hideWalkthroughMarker:function(){this.walkthroughMarker&&this.walkthroughMarker.clear()},addCoverage:function(t,e){var n=this,i=this.coverage;this.coverage=y()({ids:this.coverage.ids.concat(t.ids),values:this.coverage.values.concat(t.values)}),this.$emit("coverage",this.coverage,t,i),t.ids.forEach(function(i,o){var r=n.insertions.items[i];if(n.shouldCreatePhantom(r)){var s=r.node.loc;n.addPhantoms([{insertion:r,execId:e,content:[t.values[o]],line:s.end.line,meta:{popupType:b.a.Code}}])}})},resetCoverage:function(){this.coverage=y()({ids:[],values:[]})},renderInitialCoverage:function(t){this.insertions=y()({items:y()(t.items.slice(0))}),this.$refs.editor.renderInitialCoverage(t,this.activeExecId)},eraseOutdatedPhantoms:function(){var t=this;this.phantoms=y()(this.phantoms.filter(function(e){return e.execId>=t.activeExecId}))},addPhantoms:function(t){var e=this,n=this.phantoms.filter(function(e){return t.some(function(t){return e.execId<t.execId&&e.line>t.line||e.execId===t.execId})}).concat(t.map(function(t){return{insertion:t.insertion,execId:t.execId,content:t.content,line:t.line,column:t.column,className:t.className,editorId:e.editorId,meta:s()({},t.meta)}}));this.phantoms=y()(n)},clearPhantoms:function(){this.phantoms=y()([])},increaseActiveExecId:function(){return this.activeExecId+=1},shouldCreatePhantom:function(t){return("Identifier"===t.type||"ThisExpression"===t.type)&&"ExpressionStatement"===t.context},runScript:(i=g()(p.a.mark(function t(){var e,n,i,o,r,a,u,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lastChangedLine=null,null!=this.transform){t.next=3;break}return t.abrupt("return");case 3:return e=this.filename,n=this.dirname,i=this.increaseActiveExecId(),o=this.$refs.editor.getValue(),r=this.$store.getters.getValidUserSetting("execution.isWalkthroughEnabled")?"thorough":"minimal",t.next=9,this.transform(o,{filename:e,instrumentor:r});case 9:if(a=t.sent,u=a.error,console.log(a.code),this.activeExecution={id:i,instrumentor:r,input:o,compilation:a},!u){t.next=18;break}return this.$emit("transform-error",s()({},u,{execId:i})),c=u.message.match(/^(.*?):\s*.*?:\s*(.*?)\s*\(/),u.loc&&this.addPhantoms([{execId:i,content:[c?c[2]:"SyntaxError"],line:u.loc.line,column:u.loc.column,className:"is-error",meta:{popupType:b.a.Code,isError:!0}}]),t.abrupt("return");case 18:this.maxWalkthroughStep=a.insertions.length-1,this.renderInitialCoverage({execId:this.activeExecId,items:a.insertions}),this.$emit("before-sandbox-inject"),this.resetCoverage(),this.$refs.sandbox.injectCode({input:a.code,execId:i,dirname:n,filename:e,sourcemap:a.map});case 22:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)}),clearPhantomsBelow:function(t){this.phantoms=y()(this.phantoms.filter(function(e){return e.line<=t}))},onPhantomPopupEnter:function(){this.popups.phantomHover.cancelAllHide()},onPhantomPopupLeave:function(){this.popups.phantomHover.hide({delay:200})},onWindowClick:function(t){var e=this;if(t.target.closest(".Phantom")){var n=this.cm.coordsChar({left:t.pageX,top:t.pageY},"window");this.timeouts.resetCursor=setTimeout(function(){e.cm.focus(),e.cm.setCursor({line:n.line,ch:n.ch})},50)}},onEditorChange:function(){clearTimeout(this.timeouts.resetCursor)},onEditorChangeDelayed:w.a.debounce(function(){},200,{trailing:!0}),onEditorChanges:function(t,e){var n=e.reduce(function(t,e){return null==t||e.from.line<t?e.from.line:t},n);null!=n&&(this.lastChangedLine=n+1,this.clearPhantomsBelow(n+1)),this.$emit("changes",e)},onEditorFocus:function(){this.$emit("focus")},onEditorBlur:function(){this.$emit("blur")},onPhantomGroupMouseEnter:function(t,e){var n=this,i=e.length?e[0]:null;if(i&&null==i.insertion||this.activeWalkthroughInsertionId!==i.insertion.id){this.popups.phantomHover.cancelAllHide();var o=i.meta.popupType,r=void 0===o?b.a.Code:o,s=e.map(function(t,i){var o=e.length>1?i:"",s=[{content:n.beautify(t.content.join(", ")),type:r}];return e.length>1&&s.unshift({content:o,type:r}),{partials:s}});this.popups.phantomHover.show({delay:300,loc:{line:i.line-1,column:i.column},content:s})}},onPhantomGroupMouseLeave:function(){this.popups.phantomHover.cancelAllShow(),this.popups.phantomHover.hide({delay:200})},onSandboxRuntimeError:function(t){var e=t.execId,n=t.result.error,i=n.loc,o=i&&u()(i.line)&&u()(i.column);if(e>=this.activeExecId){o&&(this.addPhantoms([{execId:e,content:[n.message],line:i.line,column:i.column,className:"is-error",meta:{popupType:b.a.Code,isError:!0}}]),this.$refs.editor.renderCovered(i,e,{isError:!0}));var r=n.message.trim();this.$emit("runtime-error",{message:r,location:location,loc:i,hasLocation:o,execId:e})}},onSandboxBusy:function(t){this.$emit("sandbox-busy",t)},onSandboxFree:function(){this.$emit("sandbox-free")},onSandboxResponse:function(t){var e=this;t.forEach(function(t){var n=t.execId;if(n>=e.activeExecId&&(t.coverage&&e.addCoverage(t.coverage,n),t.hasOwnProperty("insertionId"))){var i=e.insertions.items[t.insertionId].node.loc.start;e.$refs.editor.renderCovered(i,n,{isCovered:!0})}}),this.$emit("sandbox-response",t)},onSandboxDone:function(t){this.eraseOutdatedPhantoms(),this.$refs.editor.updatePhantoms(!0),this.$emit("sandbox-done",t)}}},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("app-sandbox",{ref:"sandbox",attrs:{origin:t.origin,url:"/sandbox.html"},on:{busy:t.onSandboxBusy,free:t.onSandboxFree,replies:t.onSandboxResponse,done:t.onSandboxDone,"runtime-error":t.onSandboxRuntimeError}}),t._v(" "),n("app-editor",{ref:"editor",staticStyle:{"font-size":"14px"},attrs:{value:t.value,phantoms:t.phantoms,insertions:t.insertions,"show-ellipses":!0},on:{"phantom-group-mouseenter":t.onPhantomGroupMouseEnter,"phantom-group-mouseleave":t.onPhantomGroupMouseLeave}})],1)},staticRenderFns:[]};var A=n("VU/8")(P,W,!1,function(t){n("iRW8")},"data-v-f91a0a6e",null);e.default=A.exports},"4/hK":function(t,e){},"7ayT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"ModalSettings",components:{AppSettings:n("niH5").default,AppModal:n("/o5o").default,AppOverlay:n("F0cU").default},props:{allowSaveSettings:{type:Boolean,default:function(){return!0}},allowOverlayClose:{type:Boolean,default:function(){return!0}},isShowing:{type:Boolean,required:!0},settings:{type:Object,required:!0},modalId:{type:String,default:function(){return"modal-settings"}}},methods:{onConfirmChanges:function(t){this.allowSaveSettings&&this.$store.dispatch("updateSettings",t),this.$emit("confirm-changes")},onOverlayRequestClose:function(){this.$refs.settings.discardLiveSettings(),this.$emit("overlay-request-close")},onModalRequestClose:function(){this.$refs.settings.discardLiveSettings(),this.$emit("modal-request-close")}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",[e("app-overlay",{directives:[{name:"show",rawName:"v-show",value:this.isShowing,expression:"isShowing"}],attrs:{"allow-close":this.allowOverlayClose},on:{"request-close":this.onOverlayRequestClose}},[e("app-modal",{attrs:{id:this.modalId},on:{close:this.onModalRequestClose}},[e("app-settings",{ref:"settings",attrs:{settings:this.settings},on:{"confirm-changes":this.onConfirmChanges}})],1)],1)],1)},staticRenderFns:[]},r=n("VU/8")(i,o,!1,null,null,null);e.default=r.exports},"8jGF":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={Info:"info",Code:"code"}},"AUw+":function(t,e){},F0cU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"Overlay",props:{allowClose:{type:Boolean,default:!0}},mounted:function(){window.addEventListener("keydown",this.onKeydown)},destroyed:function(){window.removeEventListener("keydown",this.onKeydown)},methods:{onClick:function(t){t.target===this.$el&&this.$emit("request-close",{escape:!1})},onKeydown:function(t){27===t.which&&this.$emit("request-close",{escape:!0})}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Overlay",on:{click:this.onClick}},[this._t("default")],2)},staticRenderFns:[]};var r=n("VU/8")(i,o,!1,function(t){n("MEbU")},null,null);e.default=r.exports},"G/BR":function(t,e,n){"use strict";var i=n("BvyM"),o=n.n(i);o.a.disableAll(),e.a=o.a},GKcl:function(t,e){},"J/Fw":function(t,e,n){t.exports=n.p+"assets/media/howitworks2.638279d.mp4"},JwYN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"SiteHeader"},[e("div",[e("router-link",{staticClass:"Logo",attrs:{to:{name:"home"}}},[this._v("vue-scuffka")])],1),this._v(" "),e("div",[e("a",{staticStyle:{display:"block"},attrs:{href:"https://github.com/anthonykoch/vue-scuffka"}},[e("svg",{staticStyle:{width:"30px"},attrs:{fill:"white","aria-labelledby":"simpleicons-github-icon",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[e("title",{attrs:{id:"simpleicons-github-icon"}},[this._v("GitHub icon")]),e("path",{attrs:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}})])])])])},staticRenderFns:[]};var o=n("VU/8")(null,i,!1,function(t){n("UX9F")},"data-v-e0137fd6",null);e.default=o.exports},MEbU:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};n.d(i,"EDITORS_EXECUTE_CODE",function(){return a}),n.d(i,"EDITORS_CLEAR_WALKTHROUGH_POPUP",function(){return u}),n.d(i,"EDITORS_SET_WALKTHROUGH_AT_START",function(){return c}),n.d(i,"EDITORS_SHOW_WALKTHROUGH_NEXT",function(){return l}),n.d(i,"EDITORS_SHOW_WALKTHROUGH_PREVIOUS",function(){return h}),n.d(i,"default",function(){return d});var o=n("7+uW"),r=n("NYxO"),s=n("VN6J"),a=(n("4/hK"),n("UM8r"),n("GKcl"),"shortcut/editors/executeCode"),u="shortcut/editors/clearWalkthroughPopup",c="shortcut/editors/setWalkthroughAtStart",l="shortcut/editors/showWalkthroughNext",h="shortcut/editors/showWalkthroughPrevious",d=[{name:a,keys:["ctrl+enter","command+alt+enter"],on:function(t,e){e.dispatch("editors/markShouldExecute",{query:{id:"main-tutorial"}})}},{name:u,keys:["esc"],on:function(t,e){e.dispatch("editors/unmarkWalthroughPopupVisible",{query:{id:"main-tutorial"}})}},{name:c,keys:["ctrl+shift+0"],on:function(t,e){e.dispatch("editors/setWalkthroughIndex",{index:0,query:{id:"main-tutorial"}})}},{name:l,keys:["command+shift+period","ctrl+n"],on:function(t,e){e.dispatch("editors/showWalkthroughNext",{query:{id:"main-tutorial"}})}},{name:h,keys:["command+shift+,","ctrl+p"],on:function(t,e){e.dispatch("editors/showWalkthroughPrevious",{query:{id:"main-tutorial"}})}}],f={name:"App",created:function(){this.shortcuts=o.a.setShortcuts({$store:this.$store,shortcuts:d})},destroyed:function(){o.a.unsetShortcuts({shortcuts:this.shortcuts})}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var m=n("VU/8")(f,p,!1,function(t){n("vCuv")},null,null).exports,g=n("/ocq"),v={components:{AppSiteHeader:n("JwYN").default},data:function(){return{}}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("app-site-header"),this._v(" "),e("div",{staticClass:"Hero"},[e("figure",[e("figcaption",{staticClass:"Hero-description"},[this._v("\n        Scuffka allows you to execute Javascript and see what each expression resolves to and which expressions resolve first.\n      ")]),this._v(" "),e("div",{staticClass:"Hero-action"},[e("router-link",{staticClass:"Button",attrs:{to:{name:"editor"}}},[this._v("Try it")])],1),this._v(" "),e("video",{staticClass:"Hero-image",attrs:{src:n("J/Fw"),autoplay:"",loop:"",width:"720"}})]),this._v(" "),e("img",{staticClass:"vuelogo",attrs:{src:n("gs4a"),alt:"",width:"260px"}})])],1)},staticRenderFns:[]};var E=n("VU/8")(v,y,!1,function(t){n("h/jw")},"data-v-c4351bf0",null).exports,k=n("SedD"),w=n.n(k),S=n("LxMy"),x=n.n(S),b=n("Biqn"),_=n.n(b),C=(n("zvae"),{name:"Tutorial",components:{AppEditorSandbox:n("3t0T").default,AppEditorNotificationList:n("1Iz/").default,AppSiteHeader:n("JwYN").default,AppModalSettings:n("7ayT").default},data:function(){return{content:"",shortcuts:i,isBusy:!1,error:null,errorExecId:null,console:console,tooltips:{executeCode:{placement:"left-middle",autoHide:!1,open:!0,offset:10}},modals:{settings:{isShowing:!1}},notificationsById:{webWorkerBusy:{title:"",isShowing:!1,message:"The web worker running your code seems to be hanging. To terminate the web worker, press the stop button. Otherwise, be careful and watch your CPU usage!",actions:[]}}}},computed:_()({},Object(r.c)({editor:function(t,e){return e["editors/editorsById"]["main-tutorial"]},userSettings:function(t){return _()({},t.settings.user)}}),Object(r.b)({}),Object(r.b)(["hasUserSetting","getValidUserSetting","getUserSetting"]),{titles:function(){return _()({},this.$shortcuts.humanizeEntries({play:a}))},notifications:function(){return x()(this.notificationsById).map(function(t){var e=t[0],n=t[1];return n.id=e,n}).filter(function(t){return t.isShowing})},errorLocation:function(){var t=this.error;return t&&t.hasLocation?"("+t.loc.line+":"+t.loc.column+")":""},errorMessage:function(){return this.error?this.error.message:""}}),created:function(){this.isCodeExecuted=!0,this.showBusyTimeoutId=null},beforeDestroy:function(){this.cancelBusyMessage()},methods:{showSettingsModal:function(){this.modals.settings.isShowing=!0},closeSettingsModal:function(){this.modals.settings.isShowing=!1},onConfirmSettings:function(){this.modals.settings.isShowing=!1},stepPreviousInWalkthrough:function(){this.$store.dispatch("editors/showWalkthroughPrevious",{query:{id:this.editor.id}})},stepNextInWalkthrough:function(){this.$store.dispatch("editors/showWalkthroughNext",{query:{id:this.editor.id}})},toggleNotification:function(t){this.notificationsById[t].isShowing=!this.notificationsById[t].isShowing},toggleScript:function(){this.isBusy?this.restartSandbox():this.$refs.editorSandbox.runScript()},restartSandbox:function(){this.$refs.editorSandbox.$refs.sandbox.restart(),this.notificationsById.webWorkerBusy.isShowing=!1,this.isBusy=!1,this.cancelBusyMessage()},showBusyMessage:function(){var t=this;this.showBusyTimeoutId=setTimeout(function(){t.notificationsById.webWorkerBusy.isShowing=!0,t.isBusy=!0},3e3)},cancelBusyMessage:function(){clearTimeout(this.showBusyTimeoutId)},onSandboxBusy:function(){this.showBusyMessage()},onSandboxFree:function(){this.cancelBusyMessage(),this.isBusy=!1,this.notificationsById.webWorkerBusy.isShowing=!1},onRuntimeError:function(t){this.error=w()(t),this.errorExecId=t.execId},onTransformError:function(t){var e=this;this.$store.dispatch("editors/unmarkShouldExecute",{query:{id:this.editor.id}}),this.showErrorTimeoutId=setTimeout(function(){e.error=w()(t),e.errorExecId=t.execId},500)},onSandboxDone:function(){this.error=null,clearTimeout(this.showErrorTimeoutId)},onEditorSandboxCoverageChange:function(t){this.$store.dispatch("editors/updateCoverageTotal",{coverageTotalLength:t.ids.length,query:{id:this.editor.id}})},onEditorSandboxFocus:function(){this.$store.dispatch("editors/markFocused",{query:{id:this.editor.id}})},onEditorSandboxBlur:function(){this.$store.dispatch("editors/unmarkFocused",{query:{id:this.editor.id}})},onBeforeEditorSandboxInject:function(){this.$store.dispatch("editors/updateLastExecutedTime",{time:Date.now(),query:{id:this.editor.id}}),this.$store.dispatch("editors/unmarkShouldExecute",{query:{id:this.editor.id}}),this.$store.dispatch("editors/unmarkWalkthroughVisible",{query:{id:this.editor.id}})},onEditorSandboxChange:function(){this.isCodeExecuted=!1,this.$store.dispatch("editors/updateLastModifiedTime",{time:Date.now(),query:{id:this.editor.id}}),this.$store.dispatch("editors/setValue",{value:this.$refs.editorSandbox.$refs.editor.getValue(),query:{id:this.editor.id}})}}}),I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("app-modal-settings",{attrs:{isShowing:t.modals.settings.isShowing,settings:t.userSettings},on:{"confirm-changes":t.closeSettingsModal,"overlay-request-close":t.closeSettingsModal,"modal-request-close":t.closeSettingsModal}}),t._v(" "),n("app-site-header"),t._v(" "),n("div",[n("div",{staticClass:"EditorPanel"},[n("app-editor-notification-list",{attrs:{items:t.notifications}}),t._v(" "),n("div",{staticClass:"EditorToolbar"},[n("button",{staticClass:"EditorToolbar-button is-run",class:{"is-busy":t.isBusy},attrs:{title:t.titles.play},on:{click:t.toggleScript,mouseenter:function(e){t.tooltips.executeCode.open=!0},mouseleave:function(e){t.tooltips.executeCode.open=!1}}},[n("span",{staticClass:"ion",class:{"ion-play":!t.isBusy,"ion-stop":t.isBusy}})]),t._v(" "),n("button",{staticClass:"EditorToolbar-button is-settings",attrs:{title:t.titles.settings},on:{click:t.showSettingsModal}},[n("span",{staticClass:"ion ion-gear-a"})]),t._v(" "),n("transition",{attrs:{duration:300,name:"lol2","enter-class":"animated fadeIn","leave-class":"animated fadeOut"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.getValidUserSetting("execution.isWalkthroughEnabled"),expression:"$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')"}],staticClass:"EditorToolbar-button is-walkthrough is-walkthrough-previous",attrs:{title:t.titles.walkthroughPrevious},on:{click:function(e){t.stepPreviousInWalkthrough()}}},[n("span",{staticClass:"ion ion-chevron-left"})])]),t._v(" "),n("transition",{attrs:{duration:300,name:"lol","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.getValidUserSetting("execution.isWalkthroughEnabled"),expression:"$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')"}],staticClass:"EditorToolbar-button is-walkthrough is-walkthrough-next",attrs:{title:t.titles.walkthroughNext},on:{click:function(e){t.stepNextInWalkthrough()}}},[n("span",{staticClass:"ion ion-chevron-right"})])])],1),t._v(" "),null!=t.editor?n("app-editor-sandbox",{ref:"editorSandbox",staticStyle:{"font-size":"15px","font-family":"consolas"},attrs:{"is-walkthrough-marker-showing":t.editor.isWalkthroughMarkerShowing,"is-walkthrough-popup-showing":t.editor.isWalkthroughPopupShowing,"editor-id":t.editor.id,value:t.editor.value,"should-execute-on-ready":t.editor.shouldExecuteOnReady,"should-execute":t.editor.shouldExecute,"active-walkthrough-step-index":t.editor.activeWalkthroughStepIndex},on:{coverage:t.onEditorSandboxCoverageChange,focus:t.onEditorSandboxFocus,blur:t.onEditorSandboxBlur,changes:t.onEditorSandboxChange,"runtime-error":t.onRuntimeError,"before-sandbox-inject":t.onBeforeEditorSandboxInject,"transform-error":t.onTransformError,"sandbox-busy":t.onSandboxBusy,"sandbox-free":t.onSandboxFree,"sandbox-done":t.onSandboxDone}}):t._e(),t._v(" "),n("transition",{attrs:{duration:400,"enter-active-class":"animated fadeIn bounceIn","leave-active-class":"animated fadeOut bounceOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.error,expression:"error != null"}],staticClass:"EditorError"},[n("span",{staticClass:"EditorError-location"},[t._v(t._s(t.errorLocation))]),t._v(" "),n("span",{staticClass:"EditorError-text"},[t._v(t._s(t.errorMessage))])])])],1)])],1)},staticRenderFns:[]};var P=n("VU/8")(C,I,!1,function(t){n("rn2P")},"data-v-670f6756",null).exports;o.a.use(g.a);var W=new g.a({mode:"history",base:"/vue-scuffka/",routes:[{path:"/",name:"home",component:E},{path:"/editor",name:"editor",component:P},{path:"*",redirect:{name:"home"}}]}),A=n("424j"),M={namespaced:!0,state:{editors:[{id:"main-tutorial",value:"\n\nvar user = {\n  username: 'musefan42',\n};\n\nconst getUsername = () => {\n  return `Hello, ${user.username}! I'm delighted to meet you`;\n};\n\nconst username = getUsername();\n\nusername;\n\n",coverageTotalLength:0,lastModifiedAt:null,lastExecutedAt:null,shouldExecute:!1,activeWalkthroughStepIndex:-1,isWalkthroughPopupShowing:!1,isWalkthroughMarkerShowing:!1}]},mutations:{BOOTSTRAP:function(t){t.editors=t.editors.map(function(t){return _()({},t,{activeWalkthroughStepIndex:-1,coverageTotalLength:0,shouldExecute:!1,lastModifiedAt:null,lastExecutedAt:null,isWalkthroughPopupShowing:!1,isWalkthroughMarkerShowing:!1})})},REGISTER:function(t,e){var n=e.id,i=e.value,o=e.lastModifiedAt,r=void 0===o?null:o,s=e.lastExecutedAt,a=void 0===s?null:s,u=e.shouldExecute,c=void 0!==u&&u,l=e.activeWalkthroughStepIndex,h=void 0===l?-1:l,d=e.isWalkthroughPopupShowing,f=void 0!==d&&d;t.editors.push({id:n,value:i,lastModifiedAt:r,lastExecutedAt:a,shouldExecute:c,activeWalkthroughStepIndex:h,isWalkthroughPopupShowing:f})},MARK_SHOULD_EXECUTE:function(t,e){e.editor.shouldExecute=!0},UNMARK_SHOULD_EXECUTE:function(t,e){e.editor.shouldExecute=!1},MARK_WALKTHROUGH_VISIBLE:function(t,e){var n=e.editor;n.isWalkthroughPopupShowing=!0,n.isWalkthroughMarkerShowing=!0},UNMARK_WALKTHROUGH_VISIBLE:function(t,e){var n=e.editor;n.isWalkthroughPopupShowing=!1,n.isWalkthroughMarkerShowing=!1},MARK_WALKTHROUGH_MARKER_VISIBLE:function(t,e){e.editor.isWalkthroughMarkerShowing=!0},UNMARK_WALKTHROUGH_MARKER_VISIBLE:function(t,e){e.editor.isWalkthroughMarkerShowing=!1},MARK_WALKTHROUGH_POPUP_VISIBLE:function(t,e){e.editor.isWalkthroughPopupShowing=!0},UNMARK_WALKTHROUGH_POPUP_VISIBLE:function(t,e){e.editor.isWalkthroughPopupShowing=!1},MARK_FOCUSED:function(t,e){e.editor.hasFocus=!0},UNMARK_FOCUSED:function(t,e){e.editor.hasFocus=!1},CLEAR_WALKTHROUGH_POPUP:function(t,e){e.editor.isWalkthroughPopupShowing=!1},SET_WALKTHROUGH_INDEX:function(t,e){var n=e.editor,i=e.index;n.walkthroughIndex=i},SHOW_WALKTHROUGH_NEXT:function(t,e){var n=e.editor,i=0===n.coverageTotalLength?-1:Math.min(n.coverageTotalLength-1,n.activeWalkthroughStepIndex+1);n.coverageTotalLength>0&&(n.activeWalkthroughStepIndex=i,n.isWalkthroughPopupShowing=!0,n.isWalkthroughMarkerShowing=!0)},SHOW_WALKTHROUGH_PREVIOUS:function(t,e){var n=e.editor,i=0===n.coverageTotalLength?-1:Math.max(0,n.activeWalkthroughStepIndex-1);n.activeWalkthroughStepIndex=i},SET_VALUE:function(t,e){var n=e.editor,i=e.value;n.value=i},UPDATE_LAST_EXECUTED_TIME:function(t,e){var n=e.editor,i=e.time;n.lastExecutedAt=i},UPDATE_LAST_MODIFIED_TIME:function(t,e){var n=e.editor,i=e.time;n.lastModifiedAt=i},UPDATE_COVERAGE_TOTAL:function(t,e){var n=e.coverageTotalLength;e.editor.coverageTotalLength=n}},actions:{bootstrap:function(t){return t.commit("BOOTSTRAP")},register:function(t,e){t.commit("REGISTER",e)},markShouldExecute:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("MARK_SHOULD_EXECUTE",{editor:n})},unmarkShouldExecute:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("UNMARK_SHOULD_EXECUTE",{editor:n})},markFocused:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("MARK_FOCUSED",{editor:n})},unmarkFocused:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("UNMARK_FOCUSED",{editor:n})},markWalkthroughVisible:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("MARK_WALKTHROUGH_VISIBLE",{editor:n})},unmarkWalkthroughVisible:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("UNMARK_WALKTHROUGH_VISIBLE",{editor:n})},markWalkthroughMarkerVisible:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("MARK_WALKTHROUGH_MARKER_VISIBLE",{editor:n})},unmarkWalkthroughMarkerVisible:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("UNMARK_WALKTHROUGH_MARKER_VISIBLE",{editor:n})},markWalkthroughPopupVisible:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("MARK_WALKTHROUGH_POPUP_VISIBLE",{editor:n})},unmarkWalkthroughPopupVisible:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("UNMARK_WALKTHROUGH_POPUP_VISIBLE",{editor:n})},clearWalkthroughPopup:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("CLEAR_WALKTHROUGH_POPUP",{editor:n})},setWalkthroughIndex:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("SET_WALKTHROUGH_INDEX",{editor:n,index:e.index})},showWalkthroughNext:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("SHOW_WALKTHROUGH_NEXT",{editor:n})},showWalkthroughPrevious:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("SHOW_WALKTHROUGH_PREVIOUS",{editor:n})},setValue:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("SET_VALUE",{editor:n,value:e.value})},updateLastExecutedTime:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("UPDATE_LAST_EXECUTED_TIME",{editor:n,time:e.time})},updateLastModifiedTime:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("UPDATE_LAST_MODIFIED_TIME",{editor:n,time:e.time})},updateCoverageTotal:function(t,e){var n=t.getters.getEditorByQuery(e.query);t.commit("UPDATE_COVERAGE_TOTAL",{editor:n,coverageTotalLength:e.coverageTotalLength})}},getters:{isEditorExecutionDirty:function(t,e){return function(t){var n=e.editorsById[t];return null==n.lastExecutedAt||null==n.lastModifiedTime||n.lastModifiedTime>n.lastExecutedAt}},editorsById:function(t){return t.editors.reduce(function(t,e){return t[e.id]=e,t},{})},getEditorByQuery:function(t){return function(e){return function(t,e){var n=t.id,i=void 0===n?"":n,o=t.state,r=void 0===o?[]:o;if(!Array.isArray(r))throw new Error("{Array<string>} state, got "+r);if("string"!=typeof i)throw new Error("{string} id, got "+i);var s=r.includes("focused");return e.editors.find(function(t){var e=[];return s&&e.push(t.hasFocus),""!==i&&e.push(t.id===i),e.every(Boolean)})||null}(e,t)}},anyHasFocus:function(t){return t.editors.some(function(t){return t.hasFocus})},anyEditorHasWalkthroughPopup:function(t){return t.editors.some(function(t){return t.hasWalkthroughPopup})}}},T=n("N+Om"),L=n.n(T),O={"execution.isWalkthroughEnabled":!0,"execution.mode":"manual"},B={"execution.isWalkthroughEnabled":function(t){return"boolean"==typeof t},"execution.mode":function(t){return["manual","automatic"].includes(t)}},R=function(t){L()(B.hasOwnProperty(t),"Invalid settings path "+t)},U={state:{user:_()({},O),default:O},mutations:{updateSettings:function(t,e){x()(e).forEach(function(e){var n=e[0],i=e[1];t.user[n]=i})}},actions:{updateSettings:function(t,e){(0,t.commit)("updateSettings",e)}},getters:{hasUserSetting:function(t){return function(e){return R(e),t.user.hasOwnProperty(e)}},getValidUserSetting:function(t){return function(e){R(e);var n=t.user[e];return B[e](n)?n:t.default[e]}},getUserSetting:function(t){return R(path),t.user[path]},isSettingValid:function(t){return function(e){return R(e),B[e](t.user[e])}}}},$={strict:!0,plugins:[Object(A.a)({})],modules:{editors:M,settings:U}},H=n("qO4g"),N=n.n(H),q=n("xgqT"),D=n.n(q),V=n("i+Fi"),j=n.n(V),G=n("NFIW"),K=n.n(G),F=n("cnj4"),z=n.n(F),Q=function(t){var e=t.$store;return t.shortcuts.map(function(t){!function(t){if("function"!=typeof t.on)throw new Error("Invalid shortcut configuration, shortcut.on should be a function, got "+t.on);if(!Array.isArray(t.keys))throw new Error("Invalid shortcut configuration, shortcut.key should be an array, got "+t.keys);if(!t.keys.every(function(t){return"string"==typeof t}))throw new Error("Invalid shortcut configuration, shortcut key should be a string, got "+t.keys);if(t.hasOwnProperty("when")&&"function"!=typeof t.when)throw new Error("Invalid shortcut configuration, shortcut.when was passed but is not a function, got "+t.when);if("string"!=typeof t.name)throw new Error("Invalid shortcut configuration, shortcut.name is not a string, got "+t.name)}(t);var n=j()(t.keys),i=t.when,o=function(n){if(null!=i){var o=i(e.state,e.getters);L()("boolean"==typeof o,"shortcut `when` handler did not return a boolean"),o&&t.on(n,e)}else t.on(n,e)};n.forEach(function(t){return z.a.bind(t,o)});return{id:K()(),name:t.name,keys:n,listener:o,destroy:function(){n.forEach(function(t){z.a.unbind(t,o)})}}})},X=[],Y=function(t){if(X.every(function(e){return e.name!==t}))throw new Error('could not find shortcut for name "'+shortcutName+'"')},Z={install:function(t,e){var n=(void 0===e?{}:e).humanize,i=function(t){var e=X.find(function(e){return e.name===t});return Y(t),"function"==typeof n?n(e.keys,e):"("+e.keys.join(", ")+")"};t.prototype.$shortcuts={humanize:i,humanizeEntries:function(t){return N()(t).reduce(function(e,n){return e[n]=i(t[n]),e},{})}},t.setShortcuts=function(t){var e=t.$store,n=t.shortcuts;if(null==e||"object"!=typeof e)throw new Error("$store should be an object, got "+e);if(!Array.isArray(n))throw new Error("Shortcuts should be an array, got "+n);return function(t){var e=function(){if(i){if(o>=n.length)return"break";r=n[o++]}else{if((o=n.next()).done)return"break";r=o.value}var t=r;X.every(function(e){return e.id!==t.id})&&X.push(t)},n=t,i=Array.isArray(n),o=0;for(n=i?n:D()(n);;){var r;if("break"===e())break}X.slice(0)}(Q({$store:e,shortcuts:n})),X.slice(0)},t.unsetShortcuts=function(t){var e,n=t.shortcuts;if(!Array.isArray(n))throw new Error("Shortcuts should be an array, got "+n);return e=n,(X=X.filter(function(t){return e.some(function(e){return t.id===e.id})})).slice(0),{shortcuts:n}.shortcuts.forEach(function(t){return t.destroy()}),X.slice(0)},t.prototype.getActiveMemes=function(){return X}}};o.a.use(r.a),o.a.use(Z),o.a.directive("tooltip",s.c),o.a.directive("close-popover",s.a),o.a.component("v-popover",s.b),o.a.config.productionTip=!1;var J=new r.a.Store($);console.log(J),J.subscribe(function(t,e){console.log("Store change",t)}),J.dispatch("editors/bootstrap"),new o.a({el:"#app",components:{App:m},router:W,store:J,template:"<App/>"})},UM8r:function(t,e){},UX9F:function(t,e){},UvzK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("1iCT"),o=n.n(i),r=n("NFIW"),s=n.n(r),a=n("8jGF"),u={props:{isCloseable:{type:Boolean,default:function(){return!1}},cm:{type:Object,required:!0}},data:function(){return{content:[],isShowing:!1,isDestroyed:!1}},created:function(){this.tokens=[]},beforeDestroy:function(){this.cancelAllHide(),this.cancelAllShow(),this.cm=null},methods:{onMouseEnter:function(t){this.$emit("popup-mouse-enter",t)},onMouseLeave:function(t){this.$emit("popup-mouse-leave",t)},onPopupClose:function(){this.hide()},getSectionClass:function(t){return{"is-info":t===a.a.Info,"is-code":t===a.a.Code}},show:function(t){var e=this,n=void 0===t?{}:t,i=n.content,r=void 0===i?[]:i,a=n.delay,u=n.loc,c=(n.scrollIntoView,n.wrap,{type:"show"});return c.promise=new o.a(function(t){c.id=s()(),c.timeout=setTimeout(function(){e.cm.addWidget({line:u.line,ch:u.column},e.$el),e.content=r,e.cm.scrollIntoView({line:u.line,ch:u.column+50},200),e.removeToken([c]),e.isShowing=!0,t()},a)}),this.addToken([c]),c},hide:function(t){var e=this,n=(void 0===t?{}:t).delay,i=void 0===n?0:n,r={type:"hide"};return r.promise=new o.a(function(t){r.id=s()(),r.timeout=setTimeout(function(){e.$el.parentNode&&e.$el.parentNode.removeChild(e.$el),e.removeToken([r]),e.isShowing=!1,t()},i)}),this.addToken([r]),r},addToken:function(t){this.tokens=this.tokens.concat(t)},removeToken:function(t){this.tokens=this.tokens.filter(function(e){return t.some(function(t){return t.id===e.id})})},cancelHide:function(t){t.forEach(function(t){return clearTimeout(t.timeout)}),this.removeToken(t)},cancelShow:function(t){t.forEach(function(t){return clearTimeout(t.timeout)}),this.removeToken(t)},cancelAllHide:function(){this.cancelHide(this.tokens.filter(function(t){return"hide"===t.type}))},cancelAllShow:function(){this.cancelShow(this.tokens.filter(function(t){return"show"===t.type}))},destroy:function(){var t=this;return this.hide().then(function(){t.cm=null})}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"EditorPopup",class:{"has-close":t.isCloseable},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[n("div",{staticClass:"EditorPopup-content"},[t._l(t.content,function(e,i){return[e.content?n("span",{staticClass:"EditorPopup-contentSection",class:t.getSectionClass(e.type)},[t._v(t._s(e.content))]):t._e(),t._v(" "),e.partials?n("span",{staticClass:"EditorPopup-partial"},t._l(e.partials,function(e){return n("span",{staticClass:"EditorPopup-contentSection is-partial",class:t.getSectionClass(e.type)},[t._v(t._s(e.content))])})):t._e(),t._v(" "),i!=t.content.length-1?n("span",{staticClass:"EditorPopup-separator"}):t._e()]})],2),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.isCloseable,expression:"isCloseable"}],staticClass:"EditorPopup-close",on:{click:t.onPopupClose}},[n("span",[t._v("×")])])])},staticRenderFns:[]};var l=n("VU/8")(u,c,!1,function(t){n("/mK7")},null,null);e.default=l.exports},VNU7:function(t,e){},YwhV:function(t,e){},"aek+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e1na"),o=n.n(i),r=n("LxMy"),s=n.n(r),a=n("qO4g"),u=n.n(a),c=n("SedD"),l=n.n(c),h=n("N+Om"),d=n.n(h),f=n("8U58"),p=n.n(f),m=n("E5Az"),g=n("M4fF"),v=n.n(g),y=(n("4/hK"),n("7Xsf"),n("UM8r"),n("5IAE"),n("Z6qg"),n("tigV"));Object(y.a)(p.a);var E=["beforeinput","blur","click","dblclick","focus","focusin","focusout","input","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mouseup","wheel"],k=function(t){var e=document.createElement("div"),n=t.isCovered?"is-covered":"is-uncovered",i=t.isError?"is-error":"";return e.className="CoverageMarker "+n+" "+i,e.textContent="*",e},w={name:"Editor",components:{codemirror:m.codemirror},props:{phantoms:{type:Array,required:!0,default:function(){return l()([])}},insertions:{type:Object,required:!0,default:function(){return{items:l()([])}},validator:function(t){return t&&Array.isArray(t.items)}},value:{type:String,required:!0}},data:function(){return{cmOptions:{mode:"javascript",gutters:["CodeMirror-linenumbers","CoverageGutter"],autoCloseBrackets:!0,theme:"monokai",keyMap:"sublime",lineNumbers:!0,matchBrackets:!0,viewportMargin:15,showCursorWhenSelecting:!0,styleActiveLine:!0,tabSize:2,markTagPairs:!0,autoRenameTags:!0,extraKeys:{Tab:"emmetExpandAbbreviation",Enter:"emmetInsertLineBreak","Ctrl-P":function(){},"Ctrl-N":function(){},"Ctrl-Shift-0":function(){}}}}},watch:{phantoms:function(){this.hasDirtyPhantoms=!0,this.updatePhantoms()}},mounted:function(){this.cm=this.getCodeMirror()},beforeDestroy:function(){this.clearAllWidgets(),this.clearAllPhantoms(),this.cm.clearGutter("CoverageGutter")},created:function(){this.maxRecordedViewportLength=0,this.phantomPool=[],this.widgets=[],this.coveredByLine={},this.updatePhantomsDelayed=v.a.debounce(this.updatePhantoms,200,{trailing:!0})},methods:{clearBelow:function(t){var e=this;u()(this.coveredByLine).forEach(function(n){var i=1+(0|n);i>t&&e.cm.setGutterMarker(i,"CoverageGutter",null)})},clearCoverage:function(){return this.cm.clearGutter("CoverageGutter")},renderInitialCoverage:function(t,e){var n=this;this.coveredByLine={},this.cm.operation(function(){n.clearCoverage();for(var e=0;e<t.items.length;e+=1){var i=t.items[e].node.loc,o=k({isCovered:!1});n.cm.setGutterMarker(i.start.line-1,"CoverageGutter",o)}})},renderCovered:function(t,e,n){void 0===n&&(n={});var i=n,o=i.isCovered,r=void 0!==o&&o,s=i.isError,a=void 0!==s&&s,u=t.line-1;if(!this.coveredByLine[u]){var c=k({isCovered:r,isError:a});this.cm.setGutterMarker(u,"CoverageGutter",c),this.coveredByLine[u]=!0}},clearAllPhantoms:function(){this.hasDirtyPhantoms=!1,this.updatePhantoms(!0)},getPhantoms:function(){return this.phantoms.filter(function(t){return"function"!=typeof t.isExpired||!t.isExpired(t)})},getValue:function(){return this.cm.getValue()},getCodeMirror:function(){return this.$refs.editor.codemirror},getPhantomsInView:function(t){var e=this;return this.phantoms.filter(function(n){return e.isPhantomInView(n.line,t)})},isPhantomInView:function(t,e){var n=t-1;return n>=e.from&&n<=e.to},updatePhantoms:function(t){void 0===t&&(t=!1),(this.hasDirtyPhantoms||t)&&(this.renderBlockPhantoms(),this.hasDirtyPhantoms=!1)},getPhantomsByLine:function(t){return t.reduce(function(t,e){var n=e.line-1,i=null;return Object.prototype.hasOwnProperty.call(t,n)?i=t[n]:t[n]=i=[],i.push(e),t},{})},renderBlockPhantoms:function(){var t=this,e=this.cm.getViewport(),n=this.getPhantomsInView(e);this.phantomsByLine=this.getPhantomsByLine(n),this.cm.operation(function(){t.clearAllWidgets(),t.widgets=t.createWidgets(t.phantomsByLine)})},clearAllWidgets:function(){var t=this;this.widgets.forEach(function(e){e.clear(),t.removeWidgetListeners(e.node),t.addElementToPool(e.node)})},addWidgetListeners:function(t){var e=this;E.forEach(function(n){var i=t.querySelector(".Phantom-messageList").children;t.addEventListener(n,e.onWidgetEvent);for(var o=0;o<i.length;o++)i[o].addEventListener(n,e.onPhantomEvent)})},removeWidgetListeners:function(t){var e=this,n=t.querySelector(".Phantom-messageList").children;E.forEach(function(n){return t.removeEventListener(n,e.onWidgetEvent)});for(var i=0;i<n.length;i++){var o=n[i];E.forEach(function(n){return t.removeEventListener(n,e.onPhantomEvent)}),o.phantom=null}},createWidgets:function(t){var e=this;return s()(t).reduce(function(t,n){var i=n[0],o=n[1],r=Number(i),s=e.getPhantomElement({line:r,contents:o}),a=e.cm.addLineWidget(r,s,{coverGutter:!1,noHScroll:!0});return t.push(a),e.addWidgetListeners(a.node),a.node.phantom=o,t},[])},addElementToPool:function(t){t.phantoms=null;for(var e=0;e<t.children.length;e++)t.children[e].phantom=null;this.phantomPool.push(t)},getPooledElement:function(){return this.phantomPool.length?this.phantomPool.shift():document.createElement("div")},updatePhantomElement:function(t,e){var n=e.column,i=e.line,r=e.contents,s=e.maxPerLine,a=void 0===s?10:s,u=this.cm.getTokenAt({line:i,ch:0}),c=o()(n)?" ".repeat(n):" ".repeat(u.state.indented);t.className="Phantom",t.style.display="block",t.innerHTML='<span class="Phantom-indent">'+c+'</span>\n        <span class="Phantom-messageList"></span>';for(var l=document.createDocumentFragment(),h=0;h<r.length&&!(0>a);h+=1){var d=r[h],f=document.createElement("span"),p=d.content,m=d.className,g=void 0===m?"":m,v=r.length>1&&h!=r.length-1?", ":"";f.phantom=d,f.textContent=p.join(", ")+v,f.textContent=p.slice(0,10).join(", ")+v,f.className="Phantom-messageListItem "+g,l.appendChild(f)}return t.querySelector(".Phantom-messageList").appendChild(l),t.phantoms=r,this.addWidgetListeners(t),t},getPhantomElement:function(t){var e=this.getPooledElement();return this.updatePhantomElement(e,t)},onPhantomEvent:function(t){d()(t.currentTarget.phantom,"phantom is not an object"),t.target===t.currentTarget&&this.$emit("phantom-"+t.type,t,t.currentTarget.phantom)},onWidgetEvent:function(t){d()(t.currentTarget.phantoms,"phantoms is not an array"),t.target===t.currentTarget&&this.$emit("phantom-group-"+t.type,t,t.currentTarget.phantoms)},onReady:function(){this.$emit("ready")},onViewportChange:function(){this.updatePhantomsDelayed(!0)}}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Editor"},[e("codemirror",{ref:"editor",attrs:{value:this.value,options:this.cmOptions},on:{viewportChange:this.onViewportChange,ready:this.onReady}})],1)},staticRenderFns:[]};var x=n("VU/8")(w,S,!1,function(t){n("/PmQ")},"data-v-6a916664",null);e.default=x.exports},gs4a:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOTYuMzIgMTcwLjAyIj48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6IzQyYjg4Mzt9LmNscy0ye2ZpbGw6IzM1NDk1ZTt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPmxvZ288L3RpdGxlPjxwb2x5Z29uIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxMjAuODMgMCA5OC4xNiAzOS4yNiA3NS40OSAwIDAgMCA5OC4xNiAxNzAuMDIgMTk2LjMyIDAgMTIwLjgzIDAiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMTIwLjgzIDAgOTguMTYgMzkuMjYgNzUuNDkgMCAzOS4yNiAwIDk4LjE2IDEwMi4wMSAxNTcuMDYgMCAxMjAuODMgMCIvPjwvc3ZnPgo="},"h/jw":function(t,e){},iRW8:function(t,e){},"j/af":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={props:{notification:{type:Object,required:!0}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"EditorNotification",attrs:{role:"alert"}},[e("div",{staticClass:"EditorNotification-body"},[e("button",{staticClass:"EditorNotification-close"},[this._v("×")]),this._v(" "),e("p",{staticClass:"EditorNotification-message"},[this._v("\n      "+this._s(this.notification.message)+"\n    ")])])])},staticRenderFns:[]};var r=n("VU/8")(i,o,!1,function(t){n("VNU7")},null,null);e.default=r.exports},niH5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Biqn"),o=n.n(i),r=n("FmOd"),s=n.n(r),a={name:"Settings",props:{settings:{type:Object,required:!0}},data:function(t){return{liveSettings:s()({},t.$props.settings)}},methods:{discardLiveSettings:function(){this.liveSettings=o()({},this.$props.settings)},onSettingChange:function(t,e){this.$emit("setting-change",{name:e})},onConfirmChanges:function(){this.$emit("confirm-changes",o()({},this.liveSettings))}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Settings"},[t._m(0),t._v(" "),n("div",{staticClass:"Settings-container"},[n("div",{staticClass:"Settings-content"},[n("div",{staticClass:"Settings-group"},[t._m(1),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.liveSettings["execution.mode"],expression:"liveSettings['execution.mode']"}],ref:"executionMode",staticClass:"Settings-select",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.liveSettings,"execution.mode",e.target.multiple?n:n[0])},function(e){t.onSettingChange("execution.mode",t.$refs.executionMode)}]}},[n("option",{attrs:{value:"manual"}},[t._v("Manual (via ctrl+enter)")]),t._v(" "),n("option",{attrs:{value:"automatic",disabled:""}},[t._v("\n            Automatic (as you type)\n          ")])]),t._v(" "),t._m(2)]),t._v(" "),n("div",{staticClass:"Settings-group"},[n("label",{staticClass:"Settings-label",attrs:{for:"execution"}},[t._v("\n          Walkthrough:\n        ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.liveSettings["execution.isWalkthroughEnabled"],expression:"liveSettings['execution.isWalkthroughEnabled']"}],ref:"isWalkthroughEnabled",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.liveSettings["execution.isWalkthroughEnabled"])?t._i(t.liveSettings["execution.isWalkthroughEnabled"],null)>-1:t.liveSettings["execution.isWalkthroughEnabled"]},on:{change:[function(e){var n=t.liveSettings["execution.isWalkthroughEnabled"],i=e.target,o=!!i.checked;if(Array.isArray(n)){var r=t._i(n,null);i.checked?r<0&&(t.liveSettings["execution.isWalkthroughEnabled"]=n.concat([null])):r>-1&&(t.liveSettings["execution.isWalkthroughEnabled"]=n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.liveSettings,"execution.isWalkthroughEnabled",o)},function(e){t.onSettingChange("execution.isWalkthroughEnabled",t.$refs.isWalkthroughEnabled.value)}]}}),t._v(" "),n("span",{staticClass:"Settings-subtitle"},[t._v("(Slower when checked)")]),t._v(" "),n("p",{staticClass:"Settings-description"},[t._v("\n          Normal execution will execute the code, give coverage feedback, and will render values for identifier expressions. Walkthrough will do all of that, but also allows a walkthrough of how the expressions resolved.\n        ")])])])]),t._v(" "),n("div",{staticClass:"Settings-actionList"},[n("button",{staticClass:"Settings-save",on:{click:t.onConfirmChanges}},[t._v("\n      Save\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"Settings-header"},[e("h1",{staticClass:"Settings-title"},[this._v("Settings")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"Settings-label",attrs:{for:"editors_settings_mode"}},[e("span",[this._v("Execution Mode: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"Settings-description"},[this._v("\n          Manual mode only executes code with ctrl+enter. Automatic "),e("b",{staticStyle:{"font-weight":"600"}},[this._v("(currently unavailable)")]),this._v(" will execute code every n milliseconds after typing.\n        ")])}]};var c=n("VU/8")(a,u,!1,function(t){n("ywc5")},null,null);e.default=c.exports},"o+Ie":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o,r=n("En79"),s=n.n(r),a=n("7hDC"),u=n.n(a),c=n("xgqT"),l=n.n(c),h=n("C9uT"),d=n.n(h),f=n("86MP"),p=n.n(f),m=n("3c28"),g=n.n(m),v=(n("4yG7"),n("NFIW")),y=n.n(v),E=n("G/BR"),k=n("uElS"),w=n.n(k),S=y()(),x=function(t){function e(e,n){var i;return(i=t.call(this,n)||this).sender=e,i}return p()(e,t),e.prototype.send=function(t){this.sender.postMessage(t)},d()(e,[{key:"origin",get:function(){return{id:S}}}]),e}(g.a),b={name:"Sandbox",props:{url:{type:String,required:!0},origin:{type:String,required:!0}},data:function(){return{ready:!1}},mounted:function(){this.isBusy=!1,this.start()},destroyed:function(){this.stop()},methods:{onMessage:function(t){var e=t.data;if(e.sandboxReady)this.onWorkerReady();else{this.talkie.dispatch(e);var n=e.reduce(function(t,e){var n=t[t.length-1];return"pong"===e.type?t:("reply"===e.type&&(e.done&&"exec"===e.to.event?t.push([e],[]):n.push(e)),t)},[[]]),i=Array.isArray(n),o=0;for(n=i?n:l()(n);;){var r;if(i){if(o>=n.length)break;r=n[o++]}else{if((o=n.next()).done)break;r=o.value}var s=r;if(0!==s.length){var a=s[0];if(a.done){var u,c="done";null!=(null===(u=a.payload)||void 0===u?void 0:u.result.error)&&(c="runtime-error"),this.$emit(c,a.payload)}else this.$emit("replies",s.map(function(t){return t.payload}))}}}},injectCode:(o=u()(s.a.mark(function t(e){var n,i,o,r,a,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.input,i=e.execId,o=e.filename,r=e.dirname,a=e.sourcemap,u={__filename:o,__dirname:r,input:n,execId:i,sourcemap:a},null!=this.talkie&&this.talkie.call("exec",u),t.abrupt("return",null);case 4:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)}),requestValue:function(t){return this.talkie.call("request-value",{insertions:t})},onWorkerReady:function(){this.talkie.startPings(),console.timeEnd("start")},onLoad:(i=u()(s.a.mark(function t(){var e=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$emit("load"),this.loaded=!0,this.queue.slice(0,1).forEach(function(t){return e.injectCode(t)});case 3:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)}),restart:function(){this.stop(),this.start()},stop:function(){E.a.info("Stopping sandbox"),this.worker&&(this.worker.terminate(),this.worker.removeEventListener("message",this.onMessage)),this.talkie&&(this.talkie.stopPings(),this.talkie.removeAllListeners()),E.a.info("Sandbox stopped")},start:function(){var t=this;this.stop(),console.time("start"),this.worker=new w.a,this.worker.addEventListener("message",this.onMessage),this.talkie=new x(this.worker,{pingFrequency:100});var e=Date.now();this.talkie.on("this:failed-ping",function(){!1===t.isBusy&&(t.isBusy=!0,t.$emit("busy",Date.now()-e))}),this.talkie.on("this:pong",function(){t.isBusy&&(e=0,t.isBusy=!1,t.$emit("free"))}),E.a.info("Sandbox started")}}},_={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},C=n("VU/8")(b,_,!1,null,null,null);e.default=C.exports},rn2P:function(t,e){},uElS:function(t,e,n){t.exports=function(){return new Worker(n.p+"148749d3b32445f64e9f.worker.js")}},vCuv:function(t,e){},ywc5:function(t,e){},zvae:function(t,e){}},[0]);
//# sourceMappingURL=app.2efe973193438376be00.js.map