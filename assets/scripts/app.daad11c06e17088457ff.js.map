{"version":3,"sources":["webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?bfd7","webpack:///./src/components/Modal.vue","webpack:///src/components/EditorSandbox.vue","webpack:///./src/components/EditorSandbox.vue?f449","webpack:///./src/components/EditorSandbox.vue","webpack:///src/components/ModalSettings.vue","webpack:///./src/components/ModalSettings.vue?57ce","webpack:///./src/components/ModalSettings.vue","webpack:///./src/constants/popups.js","webpack:///src/components/Overlay.vue","webpack:///./src/components/Overlay.vue?5927","webpack:///./src/components/Overlay.vue","webpack:///src/components/NotificationList.vue","webpack:///./src/components/NotificationList.vue?f060","webpack:///./src/components/NotificationList.vue","webpack:///./src/logger.js","webpack:///./src/assets/videos/howitworks2.mp4","webpack:///./src/components/SiteHeader.vue?fd8c","webpack:///./src/components/SiteHeader.vue","webpack:///./src/constants/shortcuts.js","webpack:///./src/constants/editors.js","webpack:///src/App.vue","webpack:///./src/App.vue?b654","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?29da","webpack:///./src/views/Home.vue","webpack:///./src/constants/notifications.js","webpack:///./src/utils.js","webpack:///src/views/Editor.vue","webpack:///./src/constants/tutorials.js","webpack:///./src/views/Editor.vue?c81a","webpack:///./src/views/Editor.vue","webpack:///./src/router/index.js","webpack:///./src/store/tutorials.js","webpack:///./src/store/editors.js","webpack:///./src/store/settings.js","webpack:///./src/store/notifications.js","webpack:///./src/store/index.js","webpack:///./src/plugins/shortcuts.js","webpack:///./src/main.js","webpack:///src/components/Popper.vue","webpack:///./src/components/Popper.vue?c023","webpack:///./src/components/Popper.vue","webpack:///src/components/EditorPopup.vue","webpack:///./src/components/EditorPopup.vue?8e0c","webpack:///./src/components/EditorPopup.vue","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?2fad","webpack:///./src/components/Editor.vue","webpack:///src/components/Settings.vue","webpack:///./src/components/Settings.vue?0bfc","webpack:///./src/components/Settings.vue","webpack:///src/components/Sandbox.vue","webpack:///./src/components/Sandbox.vue?b81d","webpack:///./src/components/Sandbox.vue","webpack:///src/components/Notification.vue","webpack:///./src/components/Notification.vue?5ffc","webpack:///./src/components/Notification.vue","webpack:///./src/sandbox.js"],"names":["Modal","default","String","id","components_Modal","render","_vm","this","_h","$createElement","_c","_self","attrs","aria-hidden","isHidden","tabindex","data-a11y-dialog-hide","_v","staticClass","aria-labelledby","titleId","role","aria-label","on","click","close","_t","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","_runScript","_mounted","Popup","vue_esm","extend","toCodemirrorLoc","loc","column","EditorSandbox","Boolean","Number","activeWalkthroughStepIndex","cuid_default","logger","runScript","newIndex","mounted","asyncToGenerator_default","cm","onEditorChange","onEditorChanges","onCursorActivity","onEditorFocus","onEditorBlur","onWindowClick","createPopups","_this2","e","then","bind","_ref","transform","instrument","delay","_ref2","js_beautify","max","value","val","destroyPopups","$destroy","onPhantomPopupEnter","onPhantomPopupLeave","popups","forEach","popup","$mount","preventDefault","stepNextInWalkthrough","stepPreviousInWalkthrough","_activeExecution","activeExecution","instrumentor","index","is_finite_default","coverage","ids","hasOwnProperty","shouldStopAtChangedLine","items","i","lastChangedLine","insertion","node","end","line","getViewport","from","content","Code","ch","hideWalkthroughMarker","getInsertionDataFromIndex","hideWalkthroughPopup","hide","clear","cancelAllShow","_this3","values","oldCoverage","execId","activeExecId","_this4","phantoms","freeze_default","filter","p","_this5","some","phantom","concat","map","className","editorId","meta","objectSpread_default","newPhantoms","type","context","filename","dirname","increaseActiveExecId","getValue","$store","getters","getValidUserSetting","error","code","input","data","renderInitialCoverage","insertions","resetCoverage","cancelAllHide","_this6","pageX","pageY","focus","resetCursor","changes","_this7","activeWalkthroughInsertionId","_phantom$meta$popupTy","popupType","prefix","partials","payload","result","message","trim","location","hasLocation","time","_this8","insertionId","start","replies","eraseOutdatedPhantoms","components_EditorSandbox","ref","origin","url","busy","onSandboxBusy","free","onSandboxFree","onSandboxResponse","done","onSandboxDone","runtime-error","onSandboxRuntimeError","staticStyle","font-size","show-ellipses","phantom-group-mouseenter","onPhantomGroupMouseEnter","phantom-group-mouseleave","onPhantomGroupMouseLeave","ModalSettings","Object","settings","discardLiveSettings","components_ModalSettings","directives","name","rawName","expression","allow-close","allowOverlayClose","request-close","onOverlayRequestClose","modalId","onModalRequestClose","confirm-changes","onConfirmChanges","PopupType","Info","Overlay","onKeydown","components_Overlay","onClick","NotificationList","Array","components_NotificationList","tag","_l","notification","key","size","styles","classes","_e","__WEBPACK_IMPORTED_MODULE_0_loglevel___default","a","disableAll","module","exports","SiteHeader","to","display","href","viewBox","xmlns","d","EDITORS_EXECUTE_CODE","EDITORS_CLEAR_WALKTHROUGH_POPUP","EDITORS_SET_WALKTHROUGH_AT_START","EDITORS_SHOW_WALKTHROUGH_NEXT","EDITORS_SHOW_WALKTHROUGH_PREVIOUS","constants_shortcuts","keys","dispatch","query","App","shortcuts","selectortype_template_index_0_src_App","mode","src_App","views_Home","_m","text-align","src","controls","width","target","rel","margin-left","src_views_Home","Home_normalizeComponent","WEB_WORKER_BUSY","INTRODUCTION_1","INTRODUCTION_2","INTRODUCTION_3","utils_wait","promise_default","resolve","setTimeout","Editor","shortcuts_namespaceObject","computed","vuex_esm","user","tutorial","$shortcuts","humanizeEntries","_this","cancelBusyMessage","introTutorialTimeout","toggleScript","restartSandbox","restart","showBusyTimeoutId","showBusyMessage","showErrorTimeoutId","length","now","views_Editor","is-showing","modals","isShowing","userSettings","closeSettingsModal","overlay-request-close","modal-request-close","editorNotifications","options","placement","positionFixed","transition","tutorialNotifications","intro1","position","left","top","intro2","actions","text","action","onIntroductionTutorialStep2Accept","class","is-busy","isBusy","animation-delay","slot","title","titles","play","onPlay","ion-play","ion-stop","showSettingsModal","duration","enter-class","leave-class","walkthroughPrevious","$event","enter-active-class","leave-active-class","intro3","onIntroductionTutorialStep3Accept","walkthroughNext","editor","font-family","is-walkthrough-marker-showing","isWalkthroughMarkerShowing","is-walkthrough-popup-showing","isWalkthroughPopupShowing","editor-id","should-execute-on-ready","shouldExecuteOnReady","should-execute","shouldExecute","active-walkthrough-step-index","onEditorSandboxCoverageChange","onEditorSandboxFocus","blur","onEditorSandboxBlur","onEditorSandboxChange","onRuntimeError","before-sandbox-inject","onBeforeEditorSandboxInject","transform-error","onTransformError","sandbox-busy","sandbox-free","sandbox-done","_s","errorLocation","errorMessage","src_views_Editor","Editor_normalizeComponent","use","vue_router_esm","_finish3","_start3","_finish2","_start2","_finish","_start","_fire","_finish4","_start4","_begin","router","base","routes","path","component","redirect","DEFAULT_MAIN_EDITOR_VALUE","editors","namespaced","state","coverageTotalLength","lastModifiedAt","lastExecutedAt","mutations","BOOTSTRAP","isIntroductionTutorialComplete","find","REGISTER","_data$lastModifiedAt","_data$lastExecutedAt","_data$shouldExecute","_data$activeWalkthrou","_data$isWalkthroughPo","push","MARK_SHOULD_EXECUTE","_ref3","UNMARK_SHOULD_EXECUTE","_ref4","MARK_WALKTHROUGH_VISIBLE","_ref5","UNMARK_WALKTHROUGH_VISIBLE","_ref6","MARK_WALKTHROUGH_MARKER_VISIBLE","_ref7","UNMARK_WALKTHROUGH_MARKER_VISIBLE","_ref8","MARK_WALKTHROUGH_POPUP_VISIBLE","_ref9","UNMARK_WALKTHROUGH_POPUP_VISIBLE","_ref10","MARK_FOCUSED","_ref11","hasFocus","UNMARK_FOCUSED","_ref12","CLEAR_WALKTHROUGH_POPUP","_ref13","SET_WALKTHROUGH_INDEX","_ref14","walkthroughIndex","SHOW_WALKTHROUGH_NEXT","_ref15","step","Math","min","SHOW_WALKTHROUGH_PREVIOUS","_ref16","SET_VALUE","_ref17","UPDATE_LAST_EXECUTED_TIME","_ref18","UPDATE_LAST_MODIFIED_TIME","_ref19","UPDATE_COVERAGE_TOTAL","_ref20","bootstrap","commit","rootGetters","isComplete","register","markShouldExecute","getEditorByQuery","unmarkShouldExecute","markFocused","unmarkFocused","markWalkthroughVisible","unmarkWalkthroughVisible","markWalkthroughMarkerVisible","unmarkWalkthroughMarkerVisible","markWalkthroughPopupVisible","unmarkWalkthroughPopupVisible","clearWalkthroughPopup","setWalkthroughIndex","showWalkthroughNext","showWalkthroughPrevious","setValue","updateLastExecutedTime","updateLastModifiedTime","updateCoverageTotal","isEditorExecutionDirty","editorsById","lastModifiedTime","reduce","byId","_ref$id","_ref$state","editorState","isArray","Error","shouldMatchByHasFocus","includes","bools","every","anyHasFocus","anyEditorHasWalkthroughPopup","hasWalkthroughPopup","defaultSettings","execution.isWalkthroughEnabled","execution.mode","validators","settings_assertPath","assert_default","store_settings","updateSettings","entries_default","hasUserSetting","getUserSetting","isSettingValid","defaultFinishPredicate","activeIndex","defaultStartPredicate","tutorials_tutorialSteps","tutorialSteps","steps","regenerator_default","mark","_callee","wrap","_context","prev","next","root","stop","_x","apply","arguments","finish","_callee2","_context2","_x2","_callee3","_context3","_x3","_callee4","_context4","_x4","_callee5","_context5","_x5","_callee6","_context6","_x6","_tutorialSteps","tutorials_getTutorialStepsById","tutorials","_tutorials","values_default","UPDATE_INDEX","MARK_TUTORIAL_COMPLETE","UNMARK_TUTORIAL_COMPLETE","markTutorialComplete","getTutorialById","unmarkTutorialComplete","begin","_callee7","_context7","abrupt","_x7","_x8","_callee8","when","predicate","_context8","console","log","goto","active","which","_x9","_x10","_callee9","_context9","_x11","_x12","fire","_callee10","_ref13$begin","hasTutorialStarted","isTutorialAtEnd","_context10","_x13","_x14","notifications","notificationsById","forEditor","_notificationsById","MARK_NOTIFICATION_VISIBLE","notifications_namespaceObject","UNMARK_NOTIFICATION_VISIBLE","show","getById","getEditorNotifications","item","strict","plugins","vuex_persistedstate_es","paths","modules","shortcuts_bindShortcuts","shortcut","assertValidShortcut","from_default","listener","shouldFire","keyboardjs_default","destroy","unbind","activeShortcuts","assertHasShortcut","shortcutName","plugins_shortcuts","install","Vue","_temp","humanizeFormatter","humanize","binding","join","prototype","obj","keys_default","all","setShortcuts","boundShortcuts","_loop","_isArray","_i","_iterator","bound","get_iterator_default","slice","shortcuts_addActiveShortcuts","unsetShortcuts","config","productionTip","main_$store","Store","store","subscribe","mutation","el","components","template","Popper","scheduleUpdate","updateElements","updatePopper","destroyPopper","createPopper","getElements","referenceElement","popperElement","reference","$slots","elm","container","components_Popper","_b","before-enter","onTransitionBeforeEnter","EditorPopup","_ref$content","promise","$el","token","tokens","timeout","components_EditorPopup","has-close","isCloseable","mouseenter","onMouseEnter","mouseleave","onMouseLeave","section","getSectionClass","partial","partialIndex","onPopupClose","emmet_codemirror_plugin_es","codemirror_default","eventNames","createCoverageMarker","isError","element","codemirror","vue_codemirror","updatePhantoms","getCodeMirror","clearAllWidgets","clearAllPhantoms","coveredByLine","clearCoverage","isCovered","isExpired","viewport","force","renderBlockPhantoms","groups","phantomsInView","phantomsByLine","children","onWidgetEvent","onPhantomEvent","widgets","l","phantomElement","getPhantomElement","widget","addLineWidget","shift","contents","_ref2$maxPerLine","whitespace","repeat","indented","innerHTML","createDocumentFragment","comma","div","fragment","getPooledElement","components_Editor","cmOptions","viewportChange","onViewportChange","ready","onReady","Settings","liveSettings","$props","components_Settings","change","$$selectedVal","call","o","selected","_value","$set","multiple","onSettingChange","$refs","executionMode","disabled","for","domProps","checked","$$a","$$el","$$c","$$i","isWalkthroughEnabled","font-weight","_injectCode","ORIGIN","sender","talkie_default","messages","onWorkerReady","chunks","_firstMessage$payload","sourcemap","outgoingPayload","startPings","onLoad","terminate","onMessage","stopPings","removeAllListeners","sandbox_default","lastTime","components_Sandbox","Sandbox","Notification","components_Notification","assign","is-sizeSmall","is-sizeLarge","style","$emit","Worker"],"mappings":"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","file":"assets/scripts/app.daad11c06e17088457ff.js","sourcesContent":["<template>\n  <focus-lock>\n    <!--\n      Dialog container related notes:\n      - It is not the actual dialog window, just the container with which the script interacts.\n      - It has to have the `aria-hidden=\"true\"` attribute (if omitted, the script\n      will add it on instantiation anyway).\n      - It can have a different id than `my-accessible-dialog`, but it needs an `id`\n      anyway.\n    -->\n    <div\n      :aria-hidden=\"isHidden\"\n      :id=\"id\"\n    >\n\n      <!--\n        Overlay related notes:\n        - It has to have the `tabindex=\"-1\"` attribute.\n        - It doesnt have to have the `data-a11y-dialog-hide` attribute, however this is recommended. It hides the dialog when clicking outside of it.\n      -->\n      <div\n        tabindex=\"-1\"\n        data-a11y-dialog-hide\n      ></div>\n\n      <!--\n        Dialog window content related notes:\n        - It is the actual visual dialog element.\n        - It has to have the `role=\"dialog\"` attribute.\n        - It doesnt have to have the `aria-labelledby` attribute however this is recommended. It should match the `id` of the dialog title.\n        - It doesnt have to have a direct child with the `role=\"document\"`, however this is recommended.\n      -->\n      <div\n        :aria-labelledby=\"titleId\"\n        role=\"dialog\"\n        class=\"Modal-content\"\n      >\n        <div role=\"document\">\n          <!--\n            Closing button related notes:\n            - It does have to have the `type=\"button\"` attribute.\n            - It does have to have the `data-a11y-dialog-hide` attribute.\n            - It does have to have an aria-label attribute if you use an icon as content.\n          -->\n          <button\n            role=\"button\"\n            aria-label=\"Close this dialog window\"\n            class=\"Modal-close\"\n            @click=\"close\"\n          >\n            &times;\n          </button>\n\n          <!--\n            Dialog title related notes:\n            - It should have a different content than `Dialog Title`.\n            - It can have a different id than `dialog-title`.\n          -->\n          <slot :id=\"id\"></slot>\n\n          <!--\n            Here lives the main content of the dialog.\n          -->\n        </div>\n      </div>\n    </div>\n  </focus-lock>\n</template>\n\n<script>\nexport default {\n  name: 'Modal',\n\n  components: {\n    FocusLock: require('vue-focus-lock').default,\n  },\n\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      isHidden: true,\n    };\n  },\n\n  computed: {\n    titleId() {\n      return `${this.id}-modal-title`;\n    }\n  },\n\n  methods: {\n    close() {\n      this.$emit('close');\n    },\n  },\n\n};\n</script>\n\n<style lang=\"scss\">\n\n.Modal {\n  background-color: transparent;\n}\n\n.Modal-content {\n  backface-visibility: hidden;\n  // background-color: $color-gray;\n  border-radius: 4px;\n  box-shadow: $app-model-content-box-shadow;\n  left: 50%;\n  // padding: 1rem 2rem;\n  max-width: 100%;\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: 30%;\n  // min-width: 280px;\n  width: $app-model-content-width;\n}\n\n.Modal-close {\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  font-size: 22px;\n  line-height: 0.6em;\n  // outline: 2px solid red;\n  outline: 0;\n  padding: 8px;\n  position: absolute;\n  right: 10px;\n  top: 8px;\n}\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/Modal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('focus-lock',[_c('div',{attrs:{\"aria-hidden\":_vm.isHidden,\"id\":_vm.id}},[_c('div',{attrs:{\"tabindex\":\"-1\",\"data-a11y-dialog-hide\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"Modal-content\",attrs:{\"aria-labelledby\":_vm.titleId,\"role\":\"dialog\"}},[_c('div',{attrs:{\"role\":\"document\"}},[_c('button',{staticClass:\"Modal-close\",attrs:{\"role\":\"button\",\"aria-label\":\"Close this dialog window\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n          \\n        \")]),_vm._v(\" \"),_vm._t(\"default\",null,{id:_vm.id})],2)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72060a5c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72060a5c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Modal.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Modal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72060a5c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Modal.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modal.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <!-- {{ this.coverage.ids }} -->\n    <app-sandbox\n      ref=\"sandbox\"\n      :origin=\"origin\"\n      url=\"/sandbox.html\"\n      @busy=\"onSandboxBusy\"\n      @free=\"onSandboxFree\"\n      @replies=\"onSandboxResponse\"\n      @done=\"onSandboxDone\"\n      @runtime-error=\"onSandboxRuntimeError\"\n    ></app-sandbox>\n    <app-editor\n      ref=\"editor\"\n      :value=\"value\"\n      :phantoms=\"phantoms\"\n      :insertions=\"insertions\"\n      :show-ellipses=\"true\"\n      style=\"font-size: 14px\"\n      @phantom-group-mouseenter=\"onPhantomGroupMouseEnter\"\n      @phantom-group-mouseleave=\"onPhantomGroupMouseLeave\"\n    >\n    </app-editor>\n  </div>\n</template>\n\n<script>\n\nimport Vue from 'vue';\nimport _ from 'lodash';\nimport cuid from 'cuid';\n\nimport { PopupType } from '@/constants/popups';\nimport logger from '@/logger';\n\nconst TIMEOUT_PHANTOM_HOVER_SHOW = 300;\nconst TIMEOUT_PHANTOM_HOVER_HIDE = 200;\n\nconst WALKTHROUGH_HIGHLIGHT_CLASS = 'WalkthoughtStep';\n\n// type CoveredInsertionPoint = {\n//   ids: number[],\n//   values: string[],\n// };\n\n// type Phantom = {\n//   content: string[],\n//   line: number,\n//   column: number,\n//   execId: number,\n//   editorId: number,\n//   className: string,\n// };\n\n/**\n * @param  {{ content: string, loc: CodeMirrorLocation }} options\n */\n\nexport const Popup = Vue.extend(require('@/components/EditorPopup').default);\n\n/**\n * @param  {Location} loc\n * @return {CodeMirrorLocation}\n */\nexport const toCodemirrorLoc = (loc) => ([\n  {\n    line: loc.start.line - 1,\n    ch: loc.start.column,\n  },\n  {\n    line: loc.end.line - 1,\n    ch: loc.end.column,\n  },\n]);\n\n/**\n * EditorSandbox acts as an orchestrator for the editor and sandbox.\n *\n * Cases:\n *   - Don't show popups for lines that already have a walkthrough popup\n *   - Don't show markers if the line has been modified past its insertion's end line\n *   - Don't show popups if the line has been modified past its insertion's end line\n *   - Only beautify if the line is longer than 40 or so characters\n *\n * Emits:\n *   sandbox-busy: When the sandbox is at 100% cpu utilization and can't respond\n *   sandbox-free: When the sandbox is no longer busy\n *   sandbox-response: When the sandbox sends a response\n *   sandbox-done: When the sandbox is done synchronously executing a script\n *   ready: Fired when the editor has loaded all its important dependencies\n *          and is ready to execute code.\n *   transform-error: Fires if the code has a syntax error\n *   runtime-error: Executed when there is a synchronous runtime error\n *   before-sandbox-inject: Emits before the sandbox is sent code to execute\n */\nexport default {\n  name: 'EditorSandbox',\n\n  components: {\n    AppEditor: require('@/components/Editor').default,\n    AppSandbox: require('@/components/Sandbox').default,\n  },\n\n  props: {\n    editorId: {\n      type: String,\n      required: true,\n    },\n\n    value: {\n      required: true,\n      type: String,\n    },\n\n    shouldExecute: {\n      type: Boolean,\n      required: true,\n    },\n\n    shouldExecuteOnReady: {\n      type: Boolean,\n      default: () => false,\n    },\n\n    activeWalkthroughStepIndex: {\n      type: Number,\n      default: () => -1,\n    },\n\n    isWalkthroughMarkerShowing: {\n      type: Boolean,\n      required: true,\n    },\n\n    isWalkthroughPopupShowing: {\n      type: Boolean,\n      required: true,\n    },\n  },\n\n  data(vm) {\n    return {\n      insertions: {\n        items: Object.freeze([]),\n      },\n      coverage: Object.freeze({\n        ids: [],\n        values: [],\n      }),\n      local_activeWalkthroughStepIndex: vm.$props.activeWalkthroughStepIndex,\n      phantoms: Object.freeze([]),\n      origin: cuid(),\n      activeExecId: 0,\n      filename: '/lively.js',\n      dirname: '/',\n      logger,\n    };\n  },\n\n  watch: {\n    shouldExecute(should) {\n      if (should === true) {\n        this.runScript();\n      }\n    },\n\n    activeWalkthroughStepIndex(newIndex, oldIndex) {\n      this.renderWalkthroughStep(newIndex);\n    },\n\n    isWalkthroughMarkerShowing(isShowing) {\n      this.renderWalkthroughStep(this.activeWalkthroughStepIndex);\n    },\n\n    isWalkthroughPopupShowing(isShowing) {\n      this.renderWalkthroughStep(this.activeWalkthroughStepIndex);\n    },\n  },\n\n  async mounted() {\n    this.cm = this.$refs.editor.cm;\n    this.cm.on('change', this.onEditorChange);\n    this.cm.on('changes', this.onEditorChanges);\n    this.cm.on('cursorActivity', this.onCursorActivity);\n    this.cm.on('focus', this.onEditorFocus);\n    this.cm.on('blur', this.onEditorBlur);\n\n    window.addEventListener('click', this.onWindowClick);\n\n    this.popups = this.createPopups();\n\n    if (this.shouldExecuteOnReady) {\n      this.$once('ready', () => {\n        this.runScript();\n      });\n    }\n  },\n\n  created() {\n    const sleep = (delay) => new Promise(resolve => setTimeout(resolve, delay));\n\n    this.imports = Promise.all([\n      import('scuffka-javascript/dist/transform'),\n      import('scuffka-javascript/dist/instrument'),\n    ]).then(([{ default: transform }, instrument]) => {\n      this.instrument = instrument;\n      this.transform = transform;\n      this.$emit('ready');\n    });\n\n    this.delayedImports = Promise.all([\n      sleep(3000).then(() => import('js-beautify')),\n    ]).then(([jsbeautifier]) => {\n      const { js_beautify: beautify } = jsbeautifier;\n\n      this.beautify = (value, max=35) => {\n        if (max == null || max === Infinity || value.length > max) {\n          return beautify(value, { indent_size: 2 });\n        }\n\n        return value;\n      };\n    });\n\n    this.lastChangedLine = null;\n    this.activeExecution = null;\n    this.timeouts = {};\n    this.phantoms = [];\n    this.transform = null;\n    this.maxWalkthroughStep = 0;\n    this.activeWalkthroughInsertionId = null;\n    this.renders = {};\n\n    this.beautify = (val) => val;\n  },\n\n  beforeDestroy() {\n    this.cm.off('changes', this.onEditorChanges)\n    this.cm.off('change', this.onEditorChange);\n    this.cm = null;\n\n    this.destroyPopups();\n\n    window.removeEventListener('click', this.onWindowClick);\n  },\n\n  methods: {\n    destroyPopups() {\n      Object.values(this.popups).forEach(popup => {\n        popup.$destroy();\n      });\n\n      this.popups = {};\n    },\n\n    createPopups() {\n      const popups = {\n        walkthrough: new Popup({\n          propsData: {\n            cm: this.cm,\n          },\n        }),\n\n        expressionHover: new Popup({\n          propsData: {\n            cm: this.cm,\n          },\n        }),\n\n        phantomHover: new Popup({\n          propsData: {\n            cm: this.cm,\n          },\n        }),\n      };\n\n      popups.phantomHover.$on('popup-mouse-enter', this.onPhantomPopupEnter);\n      popups.phantomHover.$on('popup-mouse-leave', this.onPhantomPopupLeave);\n\n      Object.values(popups)\n        .forEach(popup => {\n          popup.$mount();\n        });\n\n      return popups;\n    },\n\n    keyWalkthroughNext(e) {\n      e.preventDefault();\n      this.stepNextInWalkthrough();\n    },\n\n    keyWalkthroughPrevious(e) {\n      e.preventDefault();\n      this.stepPreviousInWalkthrough();\n    },\n\n    onCursorActivity() {\n      // TODO: Check to see if cursor is still in the same range?\n      return;\n\n      const cursor = this.cm.getCursor();\n      const content = this.findExpressionAt({ line: cursor.line, column: cursor.ch });\n\n      this.popups.expressionHover.show({\n        delay: 200,\n        loc: {\n          line: cursor.line,\n          column: cursor.ch,\n        },\n        content: [{\n          type: PopupType.Code,\n          content: this.beautify(content),\n        }],\n      });\n    },\n\n    canShowWalkthroughStepIndex(index) {\n      return (\n          this.activeExecution?.instrumentor === 'thorough' &&\n          index > -1 &&\n          Number.isFinite(index) &&\n          this.coverage.ids.hasOwnProperty(index)\n        );\n    },\n\n    isInsertionPastChangedLine(insertion) {\n      return this.lastChangedLine != null && insertion.node.loc.end.line >= this.lastChangedLine + 1;\n    },\n\n    getInsertionDataFromIndex(index, shouldStopAtChangedLine=true) {\n      const insertionId = this.coverage.ids[index];\n      const items = this.insertions.items;\n\n      let insertion = null;\n      let i = 0;\n\n      for (; i < items.length; i++) {\n        if (items[i].id === insertionId) {\n          insertion = items[i];\n\n          if (\n            shouldStopAtChangedLine &&\n            this.lastChangedLine != null &&\n            insertion.node.loc.end.line >= this.lastChangedLine + 1\n          ) {\n            break;\n          }\n\n          break;\n        }\n      }\n\n      return {\n        fromIndex: index,\n        insertion,\n        foundIndex: insertion == null ? null : i,\n      };\n    },\n\n    /**\n     * @param  {Object|null} insertion\n     */\n    showWalkthroughPopup(insertion) {\n      const index = this.activeWalkthroughStepIndex;\n\n      if (this.isInsertionPastChangedLine(insertion)) {\n        const loc = insertion.node.loc;\n        const viewport = this.cm.getViewport();\n        const line = viewport.from;\n\n        this.popups.walkthrough.show({\n          content: [{\n              content: `This point can not be highlighted because it has been modified`,\n              type: 'info',\n            }, {\n              partials: [{\n                content: `${loc.start.line}:${loc.start.column}`,\n              }, {\n                type: PopupType.Code,\n                content: this.beautify(this.coverage.values[index]),\n              }],\n            },\n          ],\n          loc: {\n            line,\n            column: 0,\n          },\n        });\n      } else {\n        const loc = toCodemirrorLoc(insertion.node.loc);\n        const ch = ((loc[0].line === loc[1].line) ? loc[0].ch : loc[1].ch - 1);\n\n        this.activeWalkthroughInsertionId = insertion.id;\n\n        if (this.isWalkthroughPopupShowing) {\n          this.popups.walkthrough.show({\n            content: [{\n              type: PopupType.Code,\n              content: this.beautify(this.coverage.values[index])\n            }],\n            loc: {\n              line: loc[1].line,\n              // If the loc spans multiple lines, display the popup at ending column\n              // else display it at the start of the starting column\n              column: ch,\n            },\n          });\n        }\n      }\n    },\n\n    showWalkthroughMarker(insertion) {\n      const loc = toCodemirrorLoc(insertion.node.loc);\n\n      this.hideWalkthroughMarker();\n\n      if (this.isInsertionPastChangedLine(insertion)) {\n        return;\n      }\n\n      this.walkthroughMarker = this.cm.doc.markText(loc[0], loc[1], {\n        className: WALKTHROUGH_HIGHLIGHT_CLASS,\n      });\n    },\n\n    renderWalkthroughStep() {\n      const index = this.activeWalkthroughStepIndex;\n      const canShow = this.canShowWalkthroughStepIndex(index);\n\n      if (!canShow) {\n        return null;\n      }\n\n      const { insertion } = this.getInsertionDataFromIndex(index);\n\n      if (insertion == null) {\n        return null;\n      }\n\n      if (this.isWalkthroughMarkerShowing) {\n        this.showWalkthroughMarker(insertion);\n      } else {\n        this.hideWalkthroughMarker();\n      }\n\n      if (this.isWalkthroughPopupShowing) {\n        this.showWalkthroughPopup(insertion);\n      } else {\n        this.hideWalkthroughPopup();\n      }\n\n      // TODO: Maybe highlight call expressions as they're being run. This could\n      //       potentially be done by checking if the previous insertion is a call\n      //       expression and adding it to a stack, or it would require modifications\n      //       to the instrumentation.\n\n      return insertion;\n    },\n\n    hideWalkthrough() {\n      this.activeWalkthroughInsertionId = null;\n      this.popups.walkthrough.hide();\n\n      if (this.walkthroughMarker) {\n        this.walkthroughMarker.clear();\n      }\n    },\n\n    hideWalkthroughPopup() {\n      this.popups.walkthrough.cancelAllShow();\n      this.popups.walkthrough.hide();\n    },\n\n    hideWalkthroughMarker() {\n      if (this.walkthroughMarker) {\n        this.walkthroughMarker.clear();\n      }\n    },\n\n    addCoverage(coverage, execId) {\n      const oldCoverage = this.coverage;\n\n      this.coverage = Object.freeze({\n        ids: this.coverage.ids.concat(coverage.ids),\n        values: this.coverage.values.concat(coverage.values),\n      });\n\n      this.$emit('coverage', this.coverage, coverage, oldCoverage);\n\n      coverage.ids\n        .forEach((id, index) => {\n          const insertion = this.insertions.items[id];\n\n          if (this.shouldCreatePhantom(insertion)) {\n            const loc = insertion.node.loc;\n\n            this.addPhantoms([{\n              insertion,\n              execId,\n              content: [coverage.values[index]],\n              line: loc.end.line,\n              meta: {\n                popupType: PopupType.Code,\n              },\n            }]);\n          }\n        });\n    },\n\n    resetCoverage() {\n      this.coverage = Object.freeze({\n        ids: [],\n        values: [],\n      });\n    },\n\n    renderInitialCoverage(insertions) {\n      this.insertions = Object.freeze({\n        items: Object.freeze(insertions.items.slice(0)),\n      });\n\n      this.$refs.editor.renderInitialCoverage(insertions, this.activeExecId);\n    },\n\n    eraseOutdatedPhantoms() {\n      this.phantoms =\n        Object.freeze(\n            this.phantoms.filter(p => p.execId >= this.activeExecId)\n          );\n    },\n\n    addPhantoms(phantoms) {\n      const newPhantoms = this.phantoms\n        .filter(p => {\n          const gtfo =\n            phantoms.some(phantom =>\n                (p.execId < phantom.execId && p.line > phantom.line) ||\n                (p.execId === phantom.execId)\n              );\n\n          return gtfo;\n        })\n        .concat(phantoms.map(phantom => {\n          return {\n            insertion: phantom.insertion,\n            execId: phantom.execId,\n            content: phantom.content,\n            line: phantom.line,\n            column: phantom.column,\n            className: phantom.className,\n            editorId: this.editorId,\n            meta: {\n              ...phantom.meta,\n            },\n          };\n        }));\n\n      this.phantoms = Object.freeze(newPhantoms);\n    },\n\n    clearPhantoms() {\n      this.phantoms = Object.freeze([]);\n    },\n\n    increaseActiveExecId() {\n      return this.activeExecId += 1;\n    },\n\n    shouldCreatePhantom(insertion) {\n      return (\n          (insertion.type === 'Identifier' || insertion.type === 'ThisExpression') &&\n          insertion.context === 'ExpressionStatement'\n        );\n    },\n\n    async runScript() {\n      this.lastChangedLine = null;\n\n      if (this.transform == null) {\n        return;\n      }\n\n      const { filename, dirname } = this;\n      const activeExecId = this.increaseActiveExecId();\n      const input = this.$refs.editor.getValue();\n\n      const instrumentor =\n        this.$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')\n          ? 'thorough'\n          : 'minimal';\n\n      const data = await this.transform(input, {\n        filename,\n        instrumentor,\n      });\n\n      const error = data.error;\n\n      console.log(data.code);\n\n      // TODO: Detect potential freezes from loops\n      // if (badLoops.length) {\n      //   return this.$emit('potential-freeze', data.badLoops);\n      // }\n      this.activeExecution = {\n        id: activeExecId,\n        instrumentor,\n        input,\n        compilation: data,\n      };\n\n      if (error) {\n        this.$emit('transform-error', { ...error, execId: activeExecId });\n\n        const match = error.message.match(/^(.*?):\\s*.*?:\\s*(.*?)\\s*\\(/);\n\n        if (error.loc) {\n          this.addPhantoms([{\n            execId: activeExecId,\n            // Todo: Extract the error message from the stack trace\n            content: [match ? match[2] : 'SyntaxError'],\n            line: error.loc.line,\n            column: error.loc.column,\n            className: 'is-error',\n            meta: {\n              popupType: PopupType.Code,\n              isError: true,\n            },\n            // layout: 'inline',\n          }]);\n        }\n\n        return;\n      }\n\n      this.maxWalkthroughStep = data.insertions.length - 1,\n\n      this.renderInitialCoverage({\n        execId: this.activeExecId,\n        items: data.insertions,\n      });\n\n      this.$emit('before-sandbox-inject');\n      this.resetCoverage();\n\n      this.$refs.sandbox.injectCode({\n        input: data.code,\n        execId: activeExecId,\n        dirname,\n        filename,\n        sourcemap: data.map,\n      });\n    },\n\n    clearPhantomsBelow(line) {\n      this.phantoms =\n        Object.freeze(\n            this.phantoms.filter(p => p.line <= line)\n          );\n    },\n\n    onPhantomPopupEnter() {\n      this.popups.phantomHover.cancelAllHide();\n    },\n\n    onPhantomPopupLeave() {\n      this.popups.phantomHover.hide({ delay: TIMEOUT_PHANTOM_HOVER_HIDE });\n    },\n\n    onWindowClick(e) {\n      if (e.target.closest('.Phantom')) {\n        const loc = this.cm.coordsChar({\n          left: e.pageX,\n          top: e.pageY,\n        }, 'window');\n\n        this.timeouts.resetCursor = setTimeout(() => {\n          this.cm.focus();\n          this.cm.setCursor({ line: loc.line, ch: loc.ch });\n        }, 50);\n      }\n    },\n\n    onEditorChange() {\n      clearTimeout(this.timeouts.resetCursor);\n    },\n\n    onEditorChangeDelayed: _.debounce(function onEditorChange() {\n      // this.runScript();\n    }, 200, {\n      trailing: true,\n    }),\n\n    onEditorChanges(cm, changes) {\n      const line = changes.reduce((line, change) => {\n        if (line == null || change.from.line < line) {\n          return change.from.line;\n        }\n\n        return line;\n      }, line);\n\n      if (line != null) {\n        this.lastChangedLine = line + 1;\n        this.clearPhantomsBelow(line + 1);\n      }\n\n      this.$emit('changes', changes);\n    },\n\n    onEditorFocus() {\n      this.$emit('focus');\n    },\n\n    onEditorBlur() {\n      this.$emit('blur');\n    },\n\n    onPhantomGroupMouseEnter(e, phantoms) {\n      const phantom = phantoms.length ? phantoms[0] : null;\n\n      if (\n        phantom &&\n        phantom.insertion == null ||\n        this.activeWalkthroughInsertionId !== phantom.insertion.id\n      ) {\n        this.popups.phantomHover.cancelAllHide();\n\n        const { popupType: type=PopupType.Code } = phantom.meta;\n\n        const content =\n          phantoms.map((p, i) => {\n            const prefix = phantoms.length > 1 ? i : '';\n\n            const partials = [{\n              content: this.beautify(p.content.join(', ')),\n              type,\n            }];\n\n            if (phantoms.length > 1) {\n              partials.unshift({\n                content: prefix,\n                type,\n              });\n            }\n\n            return {\n              partials,\n            };\n          });\n\n        this.popups.phantomHover.show({\n          delay: TIMEOUT_PHANTOM_HOVER_SHOW,\n          loc: {\n            line: phantom.line - 1,\n            column: phantom.column,\n          },\n          content,\n        });\n      }\n    },\n\n    onPhantomGroupMouseLeave() {\n      this.popups.phantomHover.cancelAllShow();\n      this.popups.phantomHover.hide({ delay: TIMEOUT_PHANTOM_HOVER_HIDE });\n    },\n\n    onSandboxRuntimeError(payload) {\n      const { execId, result: { error } } = payload;\n      const loc = error.loc;\n      const hasLocation = loc && Number.isFinite(loc.line) && Number.isFinite(loc.column);\n\n      if (execId >= this.activeExecId) {\n        if (hasLocation) {\n          this.addPhantoms([{\n            execId,\n            content: [error.message],\n            line: loc.line,\n            column: loc.column,\n            className: 'is-error',\n            meta: {\n              popupType: PopupType.Code,\n              isError: true,\n            },\n          }]);\n\n          this.$refs.editor.renderCovered(loc, execId, {\n            isError: true,\n          });\n        }\n\n        const message = error.message.trim();\n\n        this.$emit('runtime-error', {\n          message,\n          location,\n          loc,\n          hasLocation,\n          execId,\n        });\n      }\n    },\n\n    onSandboxBusy(time) {\n      this.$emit('sandbox-busy', time);\n    },\n\n    onSandboxFree() {\n      this.$emit('sandbox-free');\n    },\n\n    onSandboxResponse(replies) {\n      replies.forEach((payload) => {\n        const execId = payload.execId;\n\n        // Don't render any phantoms for replies incoming from previously executed scripts\n        if (execId >= this.activeExecId) {\n\n          // Avoid rendering phantoms for things that are redundant, link strings, numbers\n          if (payload.coverage) {\n            this.addCoverage(payload.coverage, execId);\n          }\n\n          if (payload.hasOwnProperty('insertionId')) {\n            const insertion = this.insertions.items[payload.insertionId];\n            const locStart = insertion.node.loc.start;\n\n            this.$refs.editor.renderCovered(locStart, execId, {\n              isCovered: true,\n            });\n          }\n        }\n      });\n\n      this.$emit('sandbox-response', replies)\n    },\n\n    onSandboxDone(payload) {\n      this.eraseOutdatedPhantoms();\n      this.$refs.editor.updatePhantoms(true);\n      this.$emit('sandbox-done', payload);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/EditorSandbox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('app-sandbox',{ref:\"sandbox\",attrs:{\"origin\":_vm.origin,\"url\":\"/sandbox.html\"},on:{\"busy\":_vm.onSandboxBusy,\"free\":_vm.onSandboxFree,\"replies\":_vm.onSandboxResponse,\"done\":_vm.onSandboxDone,\"runtime-error\":_vm.onSandboxRuntimeError}}),_vm._v(\" \"),_c('app-editor',{ref:\"editor\",staticStyle:{\"font-size\":\"14px\"},attrs:{\"value\":_vm.value,\"phantoms\":_vm.phantoms,\"insertions\":_vm.insertions,\"show-ellipses\":true},on:{\"phantom-group-mouseenter\":_vm.onPhantomGroupMouseEnter,\"phantom-group-mouseleave\":_vm.onPhantomGroupMouseLeave}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f91a0a6e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditorSandbox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f91a0a6e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditorSandbox.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditorSandbox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f91a0a6e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditorSandbox.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f91a0a6e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditorSandbox.vue\n// module id = null\n// module chunks = ","<template>\n  <transition>\n    <app-overlay\n      v-show=\"isShowing\"\n      :allow-close=\"allowOverlayClose\"\n      @request-close=\"onOverlayRequestClose\"\n    >\n      <app-modal\n        :id=\"modalId\"\n        @close=\"onModalRequestClose\"\n      >\n        <app-settings\n          ref=\"settings\"\n          :settings=\"settings\"\n          @confirm-changes=\"onConfirmChanges\"\n        ></app-settings>\n      </app-modal>\n    </app-overlay>\n  </transition>\n</template>\n\n<script>\n\nexport default {\n  name: 'ModalSettings',\n\n  components: {\n    AppSettings: require('@/components/Settings').default,\n    AppModal: require('@/components/Modal').default,\n    AppOverlay: require('@/components/Overlay').default,\n  },\n\n  props: {\n    allowSaveSettings: {\n      type: Boolean,\n      default: () => true,\n    },\n\n    allowOverlayClose: {\n      type: Boolean,\n      default: () => true,\n    },\n\n    isShowing: {\n      type: Boolean,\n      required: true,\n    },\n\n    settings: {\n      type: Object,\n      required: true,\n    },\n\n    modalId: {\n      type: String,\n      default: () => 'modal-settings',\n    },\n  },\n\n  methods: {\n    onConfirmChanges(settings) {\n      if (this.allowSaveSettings) {\n        this.$store.dispatch('updateSettings', settings);\n      }\n\n      this.$emit('confirm-changes');\n    },\n\n    onOverlayRequestClose() {\n      this.$refs.settings.discardLiveSettings();\n      this.$emit('overlay-request-close');\n    },\n\n    onModalRequestClose() {\n      this.$refs.settings.discardLiveSettings();\n      this.$emit('modal-request-close');\n    },\n  },\n};\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ModalSettings.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',[_c('app-overlay',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowing),expression:\"isShowing\"}],attrs:{\"allow-close\":_vm.allowOverlayClose},on:{\"request-close\":_vm.onOverlayRequestClose}},[_c('app-modal',{attrs:{\"id\":_vm.modalId},on:{\"close\":_vm.onModalRequestClose}},[_c('app-settings',{ref:\"settings\",attrs:{\"settings\":_vm.settings},on:{\"confirm-changes\":_vm.onConfirmChanges}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02a14d1f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ModalSettings.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ModalSettings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02a14d1f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ModalSettings.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ModalSettings.vue\n// module id = null\n// module chunks = ","\nexport const PopupType = {\n  Info: 'info',\n  Code: 'code',\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/popups.js","<template>\n  <div\n    class=\"Overlay\"\n    @click=\"onClick\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n\n  name: 'Overlay',\n\n  props: {\n    allowClose: {\n      type: Boolean,\n      default: true,\n    }\n  },\n\n  mounted() {\n    window.addEventListener('keydown', this.onKeydown);\n  },\n\n  destroyed() {\n    window.removeEventListener('keydown', this.onKeydown);\n  },\n\n  methods: {\n    onClick(e) {\n      if (e.target === this.$el) {\n        this.$emit('request-close', { escape: false, });\n      }\n    },\n\n    onKeydown(e) {\n      if (e.which === 27) {\n        this.$emit('request-close', { escape: true, });\n      }\n    },\n  },\n\n};\n</script>\n\n\n<style lang=\"scss\">\n\n.Overlay {\n  height: 100%;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: $app-overlay-layer;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Overlay.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Overlay\",on:{\"click\":_vm.onClick}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9c7b7e82\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Overlay.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9c7b7e82\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Overlay.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Overlay.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9c7b7e82\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Overlay.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Overlay.vue\n// module id = null\n// module chunks = ","<template>\n  <transition-group\n    name=\"tr-Notification\"\n    tag=\"ul\"\n    class=\"NotificationList\"\n  >\n    <li\n      v-for=\"notification in items\"\n      v-if=\"notification.isShowing\"\n      :key=\"notification.id\"\n      class=\"NotificationList-item\"\n    >\n      <app-notification\n        :message=\"notification.message\"\n        :size=\"notification.size\"\n        :styles=\"notification.styles\"\n        :classes=\"notification.classes\"\n      ></app-notification>\n    </li>\n  </transition-group>\n</template>\n\n<script>\n\nexport default {\n  components: {\n    AppNotification: require('@/components/Notification').default,\n  },\n\n  props: {\n    items: {\n      type: Array,\n      required: true,\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\">\n\n.NotificationList {\n  top: 1rem;\n  right: 5rem;\n  list-style-type: none;\n  position: absolute;\n  z-index: $app-notification-layer;\n}\n\n.NotificationList-item {\n  display: block;\n  transform-origin: top center;\n  transition: all 400ms;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NotificationList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition-group',{staticClass:\"NotificationList\",attrs:{\"name\":\"tr-Notification\",\"tag\":\"ul\"}},_vm._l((_vm.items),function(notification){return (notification.isShowing)?_c('li',{key:notification.id,staticClass:\"NotificationList-item\"},[_c('app-notification',{attrs:{\"message\":notification.message,\"size\":notification.size,\"styles\":notification.styles,\"classes\":notification.classes}})],1):_vm._e()}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-197de64a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NotificationList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-197de64a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NotificationList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotificationList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-197de64a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NotificationList.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NotificationList.vue\n// module id = null\n// module chunks = ","import logger from 'loglevel';\n\nlogger.disableAll();\n// logger.enableAll();\n\nexport default logger;\n\n\n\n// WEBPACK FOOTER //\n// ./src/logger.js","module.exports = __webpack_public_path__ + \"assets/media/howitworks2.638279d.mp4\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/videos/howitworks2.mp4\n// module id = J/Fw\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"SiteHeader\"},[_c('div',[_c('router-link',{staticClass:\"Logo\",attrs:{\"to\":{ name: 'home' }}},[_vm._v(\"vue-scuffka\")])],1),_vm._v(\" \"),_c('div',[_c('nav',{staticClass:\"SiteHeader-nav\"},[_c('router-link',{staticClass:\"SiteHeader-link\",attrs:{\"to\":{ name: 'editor' }}},[_c('span',{staticClass:\"Button is-light\"},[_vm._v(\"Try it\")])]),_vm._v(\" \"),_c('a',{staticClass:\"SiteHeader-link\",staticStyle:{\"display\":\"block\"},attrs:{\"href\":\"https://github.com/anthonykoch/vue-scuffka\"}},[_c('svg',{staticClass:\"SiteHeader-icon is-github\",attrs:{\"aria-labelledby\":\"simpleicons-github-icon\",\"role\":\"img\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('title',{attrs:{\"id\":\"simpleicons-github-icon\"}},[_vm._v(\"View on Github\")]),_c('path',{attrs:{\"d\":\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"}})])])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e0137fd6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SiteHeader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e0137fd6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SiteHeader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e0137fd6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SiteHeader.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e0137fd6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SiteHeader.vue\n// module id = null\n// module chunks = ","\n// type Platform = 'osx' | 'windows' | 'linux';\n\nimport { ID_MAIN } from '@/constants/editors';\n\nexport const EDITORS_EXECUTE_CODE = 'shortcut/editors/executeCode';\n\nexport const EDITORS_CLEAR_WALKTHROUGH_POPUP = 'shortcut/editors/clearWalkthroughPopup';\n\nexport const EDITORS_SET_WALKTHROUGH_AT_START = 'shortcut/editors/setWalkthroughAtStart';\n\nexport const EDITORS_SHOW_WALKTHROUGH_NEXT = 'shortcut/editors/showWalkthroughNext'\n\nexport const EDITORS_SHOW_WALKTHROUGH_PREVIOUS = 'shortcut/editors/showWalkthroughPrevious'\n\nexport default [\n  {\n    name: EDITORS_EXECUTE_CODE,\n    keys: ['ctrl+enter', 'command+alt+enter'],\n    // when: (state, getters) => getters['editors/anyHasFocus'],\n    on(e, $store) {\n      $store.dispatch('editors/markShouldExecute', {\n        query: {\n          id: ID_MAIN,\n          // state: ['focused'],\n        },\n      });\n    },\n  },\n  {\n    name: EDITORS_CLEAR_WALKTHROUGH_POPUP,\n    keys: ['esc'],\n    // when: (state, getters) => getters.anyEditorHasFocus,\n    on(e, $store) {\n      $store.dispatch('editors/unmarkWalkthroughPopupVisible', {\n        query: {\n          id: ID_MAIN,\n          // state: ['focused'],\n        },\n      });\n    },\n  },\n  { // TODO: Should be removed when walkthrough UI is in place\n    name: EDITORS_SET_WALKTHROUGH_AT_START,\n    keys: ['ctrl+shift+0'],\n    on(e, $store) {\n      $store.dispatch('editors/setWalkthroughIndex', {\n        index: 0,\n        query: {\n          id: ID_MAIN,\n          // state: ['focused'],\n        },\n      });\n    },\n  },\n  {\n    name: EDITORS_SHOW_WALKTHROUGH_NEXT,\n    keys: ['command+shift+period', 'ctrl+n'],\n    // when: (state, getters) => getters['editors/anyHasFocus'],\n    on(e, $store) {\n      $store.dispatch('editors/showWalkthroughNext', {\n        query: {\n          id: ID_MAIN,\n          // state: ['focused'],\n        },\n      });\n    },\n  },\n  {\n    name: EDITORS_SHOW_WALKTHROUGH_PREVIOUS,\n    keys: ['command+shift+,', 'ctrl+p'],\n    // when: (state, getters) => getters['editors/anyHasFocus'],\n    on(e, $store) {\n      $store.dispatch('editors/showWalkthroughPrevious', {\n        query: {\n          id: ID_MAIN,\n          // state: ['focused'],\n        },\n      });\n    },\n  },\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/shortcuts.js","\nexport const ID_MAIN = 'main';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/editors.js","<template>\n  <div id=\"app\">\n    <app-site-header></app-site-header>\n\n    <transition\n      name=\"tr-fade\"\n      mode=\"out-in\"\n    >\n      <router-view></router-view>\n    </transition>\n  </div>\n</template>\n\n<script>\n\nimport shortcuts from '@/constants/shortcuts';\nimport Vue from 'vue';\n\nexport default {\n  name: 'App',\n\n  components: {\n    AppSiteHeader: require('@/components/SiteHeader').default,\n  },\n\n  created() {\n    this.shortcuts = Vue.setShortcuts({\n      $store: this.$store,\n      shortcuts,\n    });\n  },\n\n  destroyed() {\n    Vue.unsetShortcuts({\n      shortcuts: this.shortcuts,\n    });\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('app-site-header'),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"tr-fade\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-44d6fea9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44d6fea9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"Hero\"},[_c('div',{staticClass:\"Hero-container\"},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('h2',{staticClass:\"Title\"},[_vm._v(\"An interactive view into JavaScript execution\")])]),_vm._v(\" \"),_c('figure',[_c('div',{staticClass:\"IntroVideo\"},[_c('video',{staticClass:\"IntroVideo-video\",attrs:{\"src\":require(\"assets/videos/howitworks2.mp4\"),\"controls\":\"\",\"width\":\"720\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"About u-gutter\"},[_c('div',{staticClass:\"About-grid\"},[_c('div',{staticClass:\"md\"},[_c('h2',[_vm._v(\"How does it work?\")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n              The code is \"),_c('a',{attrs:{\"href\":\"https://en.wikipedia.org/wiki/Instrumentation_(computer_programming)\",\"target\":\"_blank\",\"rel\":\"noreferrer noopener\"}},[_vm._v(\"instrumented\")]),_vm._v(\" with a \"),_c('a',{attrs:{\"href\":\"https://github.com/anthonykoch/scuffka-javascript\",\"target\":\"_blank\",\"rel\":\"noreferrer noopener\"}},[_vm._v(\"custom written instrumentor\")]),_vm._v(\" that tracks the code execution. When you press play, the code is executed in a Web Worker.\\n            \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n              Since the code runs in a web worker, there is no access to the DOM. You may still use \"),_c('code',[_vm._v(\"fetch\")]),_vm._v(\", however. The use of a web worker accomplishes a couple of things. First, it allows easily resetting the environment that the code runs in. Secondly, a long running or infinite loop should (hopefully) be detected and you will be prompted to kill the script.\\n            \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n              The code tracking is optimized in attempts keep the code running as quickly as possible. However, do not that there can still be some pretty drastic performance hits.\\n            \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n              Notes:\\n              \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('ul',{staticStyle:{\"margin-left\":\"30px\"}},[_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/anthonykoch/vue-scuffka\",\"target\":\"_blank\",\"rel\":\"noreferrer noopener\"}},[_vm._v(\"Editor source code\")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/anthonykoch/scuffka-javascript\",\"target\":\"_blank\",\"rel\":\"noreferrer noopener\"}},[_vm._v(\"Instrumentor source code\")])])])])])])])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c4351bf0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c4351bf0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c4351bf0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c4351bf0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Home.vue\n// module id = null\n// module chunks = ","\nexport const WEB_WORKER_BUSY = 'WEB_WORKER_BUSY';\n\nexport const INTRODUCTION_1 = 'INTRODUCTION_1';\nexport const INTRODUCTION_2 = 'INTRODUCTION_2';\nexport const INTRODUCTION_3 = 'INTRODUCTION_3';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/notifications.js","\nexport const stripNewlines = str => str.replace(/[\\r\\n]/g, '');\n\nexport const restrict = (int, min, max) => Math.min(Math.max(int, min), max);\n\nexport const wait =\n  (delay) => new Promise((resolve) => setTimeout(resolve, delay));\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","<template>\n  <div>\n    <app-modal-settings\n      :is-showing=\"modals.settings.isShowing\"\n      :settings=\"userSettings\"\n      @confirm-changes=\"closeSettingsModal\"\n      @overlay-request-close=\"closeSettingsModal\"\n      @modal-request-close=\"closeSettingsModal\"\n    ></app-modal-settings>\n\n    <div>\n      <div class=\"EditorPanel\">\n        <app-notification-list :items=\"editorNotifications\"></app-notification-list>\n\n        <div class=\"EditorToolbar\">\n          <app-popper\n            :options=\"{\n              placement: 'left',\n              positionFixed: true,\n            }\"\n            :transition=\"{ name: 'tr-Notification' }\"\n          >\n            <!-- FIXME: I can not for the life of me figure out why Popper doesn't position correctly. Hacking it with inline styling -->\n            <app-notification\n              v-show=\"tutorialNotifications.intro1.isShowing\"\n              :key=\"1\"\n              :message=\"tutorialNotifications.intro1.message\"\n              :styles=\"tutorialNotifications.intro1.styles\"\n              :classes=\"tutorialNotifications.intro1.classes\"\n              size=\"small\"\n              style=\"position: relative; left: -15px; top: 8px\"\n            ></app-notification>\n            <app-notification\n              v-show=\"tutorialNotifications.intro2.isShowing\"\n              :key=\"2\"\n              :actions=\"[{ id: 1, text: 'ok' }]\"\n              :message=\"tutorialNotifications.intro2.message\"\n              :styles=\"tutorialNotifications.intro2.styles\"\n              :classes=\"tutorialNotifications.intro2.classes\"\n              size=\"small\"\n              style=\"position: relative; left: -15px; top: 44px\"\n              @action=\"onIntroductionTutorialStep2Accept\"\n            >\n            </app-notification>\n\n            <button\n              slot=\"reference\"\n              :class=\"{ 'is-busy': isBusy }\"\n              :title=\"titles.play\"\n              class=\"EditorToolbar-button is-run has-loadingAnimation\"\n              style=\"animation-delay: 500ms\"\n              @click=\"onPlay\"\n            >\n              <span\n                :class=\"{ 'ion-play': !isBusy, 'ion-stop': isBusy }\"\n                class=\"ion\"\n              ></span>\n            </button>\n          </app-popper>\n          <button\n            :title=\"titles.settings\"\n            class=\"EditorToolbar-button is-settings has-loadingAnimation\"\n            style=\"animation-delay: 800ms\"\n            @click=\"showSettingsModal\"\n          >\n            <span class=\"ion ion-gear-a\"></span>\n          </button>\n\n          <transition\n            :duration=\"300\"\n            enter-class=\"animated fadeIn\"\n            leave-class=\"animated fadeOut\"\n          >\n            <button\n              v-show=\"$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')\"\n              :title=\"titles.walkthroughPrevious\"\n              class=\"\n                EditorToolbar-button is-walkthrough is-walkthrough-previous has-loadingAnimation\n              \"\n              style=\"animation-delay: 1100ms\"\n              @click=\"stepPreviousInWalkthrough()\"\n            >\n              <span class=\"ion ion-chevron-left\"></span>\n            </button>\n          </transition>\n\n          <transition\n            :duration=\"300\"\n            enter-active-class=\"animated fadeIn\"\n            leave-active-class=\"animated fadeOut\"\n          >\n            <div\n              v-show=\"$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')\"\n            >\n              <app-popper\n                :options=\"{\n                  placement: 'left',\n                  positionFixed: true,\n                }\"\n                :transition=\"{ name: 'tr-Notification' }\"\n              >\n                <!--\n                  FIXME: I can not for the life of me figure out why Popper doesn't position the notification correctly.\n                  Gotta hack it with inline styling\n                 -->\n                <app-notification\n                  v-show=\"tutorialNotifications.intro3.isShowing\"\n                  :key=\"1\"\n                  :actions=\"[{ id: 1, text: 'ok' }]\"\n                  :message=\"tutorialNotifications.intro3.message\"\n                  :styles=\"tutorialNotifications.intro3.styles\"\n                  :classes=\"tutorialNotifications.intro3.classes\"\n                  size=\"small\"\n                  style=\"position: relative; left: -15px; top: 22px\"\n                  @action=\"onIntroductionTutorialStep3Accept\"\n                >\n                </app-notification>\n                <button\n                  slot=\"reference\"\n                  :title=\"titles.walkthroughNext\"\n                  class=\"\n                    EditorToolbar-button is-walkthrough is-walkthrough-next has-loadingAnimation\n                  \"\n                  style=\"animation-delay: 1400ms\"\n                  @click=\"stepNextInWalkthrough\"\n                >\n                  <span class=\"ion ion-chevron-right\"></span>\n                </button>\n              </app-popper>\n            </div>\n          </transition>\n        </div>\n\n        <app-editor-sandbox\n          v-if=\"editor != null\"\n          ref=\"editorSandbox\"\n          :is-walkthrough-marker-showing=\"editor.isWalkthroughMarkerShowing\"\n          :is-walkthrough-popup-showing=\"editor.isWalkthroughPopupShowing\"\n          :editor-id=\"editor.id\"\n          :value=\"editor.value\"\n          :should-execute-on-ready=\"editor.shouldExecuteOnReady\"\n          :should-execute=\"editor.shouldExecute\"\n          :active-walkthrough-step-index=\"editor.activeWalkthroughStepIndex\"\n          style=\"font-size: 15px; font-family: consolas\"\n          @coverage=\"onEditorSandboxCoverageChange\"\n          @focus=\"onEditorSandboxFocus\"\n          @blur=\"onEditorSandboxBlur\"\n          @changes=\"onEditorSandboxChange\"\n          @runtime-error=\"onRuntimeError\"\n          @before-sandbox-inject=\"onBeforeEditorSandboxInject\"\n          @transform-error=\"onTransformError\"\n          @sandbox-busy=\"onSandboxBusy\"\n          @sandbox-free=\"onSandboxFree\"\n          @sandbox-done=\"onSandboxDone\"\n        >\n        </app-editor-sandbox>\n        <transition\n          :duration=\"400\"\n          enter-active-class=\"animated fadeIn bounceIn\"\n          leave-active-class=\"animated fadeOut bounceOut\"\n        >\n          <div\n            v-show=\"error != null\"\n            class=\"EditorError\"\n          >\n            <span class=\"EditorError-location\">{{ errorLocation }}</span>\n            <span class=\"EditorError-text\">{{ errorMessage }}</span>\n          </div>\n        </transition>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex';\n\nimport * as shortcuts from '@/constants/shortcuts';\nimport * as NOTIFICATIONS from '@/constants/notifications';\nimport * as TUTORIALS from '@/constants/tutorials';\nimport * as EDITORS from '@/constants/editors';\n\nimport { wait } from '@/utils';\n\nexport default {\n  name: 'Tutorial',\n\n  components: {\n    AppEditorSandbox: require('@/components/EditorSandbox').default,\n    AppNotificationList: require('@/components/NotificationList').default,\n    AppNotification: require('@/components/Notification').default,\n    AppModalSettings: require('@/components/ModalSettings').default,\n    AppPopper: require('@/components/Popper').default,\n  },\n\n  data() {\n    return {\n      content: '',\n\n      shortcuts,\n      isBusy: false,\n      error: null,\n      errorExecId: null,\n\n      modals: {\n        settings: {\n          isShowing: false,\n        },\n      },\n    };\n  },\n\n  computed: {\n    ...mapState({\n      editor: (state, getters) => getters['editors/editorsById'][EDITORS.ID_MAIN],\n      userSettings: state => ({ ...state.settings.user }),\n      tutorial: state => state.tutorial,\n      editorNotifications: (state, getters) => getters['notifications/getEditorNotifications'],\n      tutorialNotifications: (state, getters) => ({\n        intro1: getters['notifications/getById'](NOTIFICATIONS.INTRODUCTION_1),\n        intro2: getters['notifications/getById'](NOTIFICATIONS.INTRODUCTION_2),\n        intro3: getters['notifications/getById'](NOTIFICATIONS.INTRODUCTION_3),\n      }),\n    }),\n\n    ...mapGetters([\n      'hasUserSetting',\n      'getValidUserSetting',\n      'getUserSetting',\n    ]),\n\n    titles() {\n      return {\n        ...this.$shortcuts.humanizeEntries({\n          play: shortcuts.EDITORS_EXECUTE_CODE,\n        })\n      };\n    },\n\n    errorLocation() {\n      const error = this.error;\n\n      if (error && error.hasLocation) {\n        return `(${error.loc.line}:${error.loc.column})`;\n      }\n\n      return '';\n    },\n\n    errorMessage() {\n      return this.error ? this.error.message : '';\n    },\n  },\n\n  mounted() {\n    this.introTutorialTimeout = setTimeout(() => {\n      this.$store.dispatch('tutorials/begin', {\n        id: TUTORIALS.INTRODUCTION,\n      });\n    }, 2400);\n  },\n\n  created() {\n    this.isCodeExecuted = true;\n    this.showBusyTimeoutId = null;\n  },\n\n  beforeDestroy() {\n    this.cancelBusyMessage();\n  },\n\n  methods: {\n    onPlay() {\n      clearTimeout(this.introTutorialTimeout);\n      this.toggleScript();\n\n      this.$store.dispatch('tutorials/finish', {\n        id: TUTORIALS.INTRODUCTION,\n        index: 0,\n      });\n\n      wait(1200).then(() => {\n        this.$store.dispatch('tutorials/start', {\n          id: TUTORIALS.INTRODUCTION,\n          index: 1,\n        });\n      });\n    },\n\n    onIntroductionTutorialStep2Accept() {\n      this.$store.dispatch('tutorials/finish', {\n        id: TUTORIALS.INTRODUCTION,\n        index: 1,\n      })\n      .then(() => wait(1200))\n      .then(() => {\n        this.$store.dispatch('tutorials/start', {\n          id: TUTORIALS.INTRODUCTION,\n          index: 2,\n        });\n      });\n    },\n\n    onIntroductionTutorialStep3Accept() {\n      wait(200).then(() => {\n        this.$store.dispatch('tutorials/finish', {\n          id: TUTORIALS.INTRODUCTION,\n          index: 2,\n        });\n      });\n    },\n\n    showSettingsModal() {\n      this.modals.settings.isShowing = true;\n    },\n\n    closeSettingsModal() {\n      this.modals.settings.isShowing = false;\n    },\n\n    onConfirmSettings() {\n      this.modals.settings.isShowing = false;\n    },\n\n    stepPreviousInWalkthrough() {\n      this.$store.dispatch('editors/showWalkthroughPrevious', {\n        query: {\n          id: this.editor.id,\n        },\n      });\n    },\n\n    stepNextInWalkthrough() {\n      this.$store.dispatch('editors/showWalkthroughNext', {\n        query: {\n          id: this.editor.id,\n        },\n      });\n    },\n\n    toggleScript() {\n      if (this.isBusy) {\n        this.restartSandbox();\n      } else {\n        this.$refs.editorSandbox.runScript();\n      }\n    },\n\n    restartSandbox() {\n      this.$refs.editorSandbox.$refs.sandbox.restart();\n      this.$store.dispatch('notifications/show', NOTIFICATIONS.WEB_WORKER_BUSY);\n      // FIXME: Might run into problems here because if the sandbox restart is not synchronous\n      this.isBusy = false;\n      this.cancelBusyMessage();\n    },\n\n    showBusyMessage() {\n      this.showBusyTimeoutId = setTimeout(() => {\n        this.$store.dispatch('notifications/show', NOTIFICATIONS.WEB_WORKER_BUSY);\n        this.isBusy = true;\n      }, 3000);\n    },\n\n    cancelBusyMessage() {\n      clearTimeout(this.showBusyTimeoutId);\n    },\n\n    onSandboxBusy() {\n      this.showBusyMessage();\n    },\n\n    onSandboxFree() {\n      this.cancelBusyMessage();\n      this.isBusy = false;\n      this.$store.dispatch(\n        'notifications/hide',\n        NOTIFICATIONS.WEB_WORKER_BUSY,\n      );\n    },\n\n    onRuntimeError(error) {\n      this.error = Object.freeze(error);\n      this.errorExecId = error.execId;\n    },\n\n    onTransformError(error) {\n      this.$store.dispatch('editors/unmarkShouldExecute', {\n        query: {\n          id: this.editor.id,\n        },\n      });\n\n      // The timeout avoids showing the babel code frame error every time\n      // the syntax is invalid.\n      this.showErrorTimeoutId = setTimeout(() => {\n        this.error = Object.freeze(error);\n        this.errorExecId = error.execId;\n      }, 500);\n    },\n\n    onSandboxDone() {\n      this.error = null;\n      clearTimeout(this.showErrorTimeoutId);\n    },\n\n    onEditorSandboxCoverageChange(allCoverage) {\n      this.$store.dispatch('editors/updateCoverageTotal', {\n        coverageTotalLength: allCoverage.ids.length,\n        query: {\n          id: this.editor.id,\n        },\n      });\n    },\n\n    onEditorSandboxFocus() {\n      this.$store.dispatch('editors/markFocused', {\n        query: {\n          id: this.editor.id,\n        },\n      });\n    },\n\n    onEditorSandboxBlur() {\n      this.$store.dispatch('editors/unmarkFocused', {\n        query: {\n          id: this.editor.id,\n        },\n      });\n    },\n\n    onBeforeEditorSandboxInject() {\n      this.$store.dispatch('editors/updateLastExecutedTime', {\n        time: Date.now(),\n        query: {\n          id: this.editor.id,\n        },\n      });\n\n      this.$store.dispatch('editors/unmarkShouldExecute', {\n        query: {\n          id: this.editor.id,\n        },\n      });\n\n      this.$store.dispatch('editors/unmarkWalkthroughPopupVisible', {\n        query: {\n          id: this.editor.id,\n        },\n      });\n    },\n\n    onEditorSandboxChange() {\n      this.isCodeExecuted = false;\n\n      this.$store.dispatch('editors/updateLastModifiedTime', {\n        time: Date.now(),\n        query: {\n          id: this.editor.id,\n        },\n      });\n\n      this.$store.dispatch('editors/setValue', {\n        value: this.$refs.editorSandbox.$refs.editor.getValue(),\n        query: {\n          id: this.editor.id,\n        },\n      });\n    },\n  },\n};\n\n</script>\n\n<style scoped lang=\"scss\">\n\n.HelpTip {\n  background-color: #222222;\n  border-radius: 50%;\n  cursor: help;\n  font-size: 12px;\n  height: 18px;\n  display: inline-block;\n  position: relative;\n  width: 18px;\n}\n\n.HelpTip-icon {\n  color: white;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n\n\n\n.EditorPanel {\n  height: 90vh;\n  box-shadow: 0 14px 34px -3px rgba(black, 0.3);\n  max-width: 800px;\n  margin-bottom: 4rem;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 0;\n  position: relative;\n  width: 100%;\n}\n\n\n\n\n.EditorError {\n  background-color: #f71649;\n  color: white;\n  bottom: 0;\n  font-family: $app-code-font-family;\n  font-size: 13px;\n  padding-bottom: 8px;\n  padding-left: 1rem;\n  padding-top: 1rem;\n  position: absolute;\n  width: 100%;\n  z-index: $app-editor-error-layer;\n}\n\n.EditorError-location {\n  width: 100px;\n}\n\n.EditorError-text {\n  white-space: pre;\n  color: inherit,\n}\n\n.EditorError.is-errorShowing {\n  background-color: #e6e6e6;\n}\n\n\n\n\n@media (min-width: 40em) {\n  .EditorPanel {\n    margin-top: 2rem;\n    width: 80%;\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Editor.vue","\nexport const INTRODUCTION = 'INTRODUCTION';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants/tutorials.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('app-modal-settings',{attrs:{\"is-showing\":_vm.modals.settings.isShowing,\"settings\":_vm.userSettings},on:{\"confirm-changes\":_vm.closeSettingsModal,\"overlay-request-close\":_vm.closeSettingsModal,\"modal-request-close\":_vm.closeSettingsModal}}),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"EditorPanel\"},[_c('app-notification-list',{attrs:{\"items\":_vm.editorNotifications}}),_vm._v(\" \"),_c('div',{staticClass:\"EditorToolbar\"},[_c('app-popper',{attrs:{\"options\":{\n            placement: 'left',\n            positionFixed: true,\n          },\"transition\":{ name: 'tr-Notification' }}},[_c('app-notification',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorialNotifications.intro1.isShowing),expression:\"tutorialNotifications.intro1.isShowing\"}],key:1,staticStyle:{\"position\":\"relative\",\"left\":\"-15px\",\"top\":\"8px\"},attrs:{\"message\":_vm.tutorialNotifications.intro1.message,\"styles\":_vm.tutorialNotifications.intro1.styles,\"classes\":_vm.tutorialNotifications.intro1.classes,\"size\":\"small\"}}),_vm._v(\" \"),_c('app-notification',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorialNotifications.intro2.isShowing),expression:\"tutorialNotifications.intro2.isShowing\"}],key:2,staticStyle:{\"position\":\"relative\",\"left\":\"-15px\",\"top\":\"44px\"},attrs:{\"actions\":[{ id: 1, text: 'ok' }],\"message\":_vm.tutorialNotifications.intro2.message,\"styles\":_vm.tutorialNotifications.intro2.styles,\"classes\":_vm.tutorialNotifications.intro2.classes,\"size\":\"small\"},on:{\"action\":_vm.onIntroductionTutorialStep2Accept}}),_vm._v(\" \"),_c('button',{staticClass:\"EditorToolbar-button is-run has-loadingAnimation\",class:{ 'is-busy': _vm.isBusy },staticStyle:{\"animation-delay\":\"500ms\"},attrs:{\"slot\":\"reference\",\"title\":_vm.titles.play},on:{\"click\":_vm.onPlay},slot:\"reference\"},[_c('span',{staticClass:\"ion\",class:{ 'ion-play': !_vm.isBusy, 'ion-stop': _vm.isBusy }})])],1),_vm._v(\" \"),_c('button',{staticClass:\"EditorToolbar-button is-settings has-loadingAnimation\",staticStyle:{\"animation-delay\":\"800ms\"},attrs:{\"title\":_vm.titles.settings},on:{\"click\":_vm.showSettingsModal}},[_c('span',{staticClass:\"ion ion-gear-a\"})]),_vm._v(\" \"),_c('transition',{attrs:{\"duration\":300,\"enter-class\":\"animated fadeIn\",\"leave-class\":\"animated fadeOut\"}},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')),expression:\"$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')\"}],staticClass:\"\\n              EditorToolbar-button is-walkthrough is-walkthrough-previous has-loadingAnimation\\n            \",staticStyle:{\"animation-delay\":\"1100ms\"},attrs:{\"title\":_vm.titles.walkthroughPrevious},on:{\"click\":function($event){_vm.stepPreviousInWalkthrough()}}},[_c('span',{staticClass:\"ion ion-chevron-left\"})])]),_vm._v(\" \"),_c('transition',{attrs:{\"duration\":300,\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')),expression:\"$store.getters.getValidUserSetting('execution.isWalkthroughEnabled')\"}]},[_c('app-popper',{attrs:{\"options\":{\n                placement: 'left',\n                positionFixed: true,\n              },\"transition\":{ name: 'tr-Notification' }}},[_c('app-notification',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tutorialNotifications.intro3.isShowing),expression:\"tutorialNotifications.intro3.isShowing\"}],key:1,staticStyle:{\"position\":\"relative\",\"left\":\"-15px\",\"top\":\"22px\"},attrs:{\"actions\":[{ id: 1, text: 'ok' }],\"message\":_vm.tutorialNotifications.intro3.message,\"styles\":_vm.tutorialNotifications.intro3.styles,\"classes\":_vm.tutorialNotifications.intro3.classes,\"size\":\"small\"},on:{\"action\":_vm.onIntroductionTutorialStep3Accept}}),_vm._v(\" \"),_c('button',{staticClass:\"\\n                  EditorToolbar-button is-walkthrough is-walkthrough-next has-loadingAnimation\\n                \",staticStyle:{\"animation-delay\":\"1400ms\"},attrs:{\"slot\":\"reference\",\"title\":_vm.titles.walkthroughNext},on:{\"click\":_vm.stepNextInWalkthrough},slot:\"reference\"},[_c('span',{staticClass:\"ion ion-chevron-right\"})])],1)],1)])],1),_vm._v(\" \"),(_vm.editor != null)?_c('app-editor-sandbox',{ref:\"editorSandbox\",staticStyle:{\"font-size\":\"15px\",\"font-family\":\"consolas\"},attrs:{\"is-walkthrough-marker-showing\":_vm.editor.isWalkthroughMarkerShowing,\"is-walkthrough-popup-showing\":_vm.editor.isWalkthroughPopupShowing,\"editor-id\":_vm.editor.id,\"value\":_vm.editor.value,\"should-execute-on-ready\":_vm.editor.shouldExecuteOnReady,\"should-execute\":_vm.editor.shouldExecute,\"active-walkthrough-step-index\":_vm.editor.activeWalkthroughStepIndex},on:{\"coverage\":_vm.onEditorSandboxCoverageChange,\"focus\":_vm.onEditorSandboxFocus,\"blur\":_vm.onEditorSandboxBlur,\"changes\":_vm.onEditorSandboxChange,\"runtime-error\":_vm.onRuntimeError,\"before-sandbox-inject\":_vm.onBeforeEditorSandboxInject,\"transform-error\":_vm.onTransformError,\"sandbox-busy\":_vm.onSandboxBusy,\"sandbox-free\":_vm.onSandboxFree,\"sandbox-done\":_vm.onSandboxDone}}):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"duration\":400,\"enter-active-class\":\"animated fadeIn bounceIn\",\"leave-active-class\":\"animated fadeOut bounceOut\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.error != null),expression:\"error != null\"}],staticClass:\"EditorError\"},[_c('span',{staticClass:\"EditorError-location\"},[_vm._v(_vm._s(_vm.errorLocation))]),_vm._v(\" \"),_c('span',{staticClass:\"EditorError-text\"},[_vm._v(_vm._s(_vm.errorMessage))])])])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-670f6756\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-670f6756\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-670f6756\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-670f6756\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Editor.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from '@/views/Home';\nimport Editor from '@/views/Editor';\n\nVue.use(Router);\n\nexport default new Router({\n  mode: 'history',\n  base: '/vue-scuffka/',\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home,\n    },\n    {\n      path: '/editor',\n      name: 'editor',\n      component: Editor,\n    },\n    {\n      path: '*',\n      redirect: {\n        name: 'home',\n      },\n    }\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import assert from 'assert';\n\nimport * as NOTIFICATIONS from '@/constants/notifications';\nimport * as TUTORIALS from '@/constants/tutorials';\nimport * as EDITORS from '@/constants/editors';\n\nimport { wait } from '@/utils';\n\nconst defaultFinishPredicate = (tutorial, getters, payload) => {\n  return (\n    // By default, we'll only run the finish for a tutorial if the user has not\n    // yet finished the tutorial and if we're actually on the same tutorial step.\n    tutorial.activeIndex === payload.index && !tutorial.isComplete\n  );\n};\n\nconst defaultStartPredicate = (tutorial, getters, payload) => {\n  return (\n    (\n      // if it's the first step\n      (payload.index === 0 && tutorial.activeIndex == null) ||\n      // If it's the next step from the previous active step\n      payload.index === tutorial.activeIndex + 1\n    ) &&\n    !tutorial.isComplete\n  );\n};\n\nexport const tutorialSteps = {\n  [TUTORIALS.INTRODUCTION]: {\n    steps: [\n      {\n        async start($store) {\n          await $store.dispatch('notifications/show', {\n            id: NOTIFICATIONS.INTRODUCTION_1,\n          }, {\n            root: true\n          });\n        },\n        async finish($store) {\n          await $store.dispatch('notifications/hide', {\n            id: NOTIFICATIONS.INTRODUCTION_1,\n          }, {\n            root: true\n          });\n        },\n      },\n\n      {\n        async start($store) {\n          await $store.dispatch('notifications/show', {\n            id: NOTIFICATIONS.INTRODUCTION_2,\n          }, {\n            root: true\n          });\n        },\n        async finish($store) {\n          await $store.dispatch('notifications/hide', {\n            id: NOTIFICATIONS.INTRODUCTION_2,\n          }, {\n            root: true\n          });\n        },\n      },\n\n      {\n        async start($store) {\n          await $store.dispatch('editors/unmarkWalkthroughPopupVisible', {\n            query: {\n              id: EDITORS.ID_MAIN,\n            },\n          }, {\n            root: true\n          });\n\n          await $store.dispatch('notifications/show', {\n            id: NOTIFICATIONS.INTRODUCTION_3,\n          }, {\n            root: true\n          });\n\n          for (let i = 1; i < 5; i++) {\n            wait(i * 1200).then(() => {\n              return $store.dispatch('editors/showWalkthroughNext', {\n                query: {\n                  id: EDITORS.ID_MAIN,\n                },\n              }, {\n                root: true\n              });\n            });\n          }\n        },\n        async finish($store) {\n          await $store.dispatch('notifications/hide', {\n            id: NOTIFICATIONS.INTRODUCTION_3,\n          }, {\n            root: true\n          });\n        },\n      }\n    ],\n  },\n};\n\nconst getTutorialStepsById = (id) => {\n  assert(tutorialSteps[id], `Tutorial steps for \"${id}\" do not exist`);\n\n  return tutorialSteps[id].steps;\n};\n\nexport default {\n  namespaced: true,\n\n  state: {\n    tutorials: {\n      [TUTORIALS.INTRODUCTION]: {\n        id: TUTORIALS.INTRODUCTION,\n        activeIndex: null,\n        isComplete: false,\n      },\n    },\n  },\n\n  mutations: {\n    BOOTSTRAP(state) {\n      // Check if the tutorial is done, and if not, restart it.\n      Object.values(state.tutorials).forEach((tutorial) => {\n        if (!tutorial.isComplete) {\n          tutorial.activeIndex = null;\n        }\n      });\n    },\n\n    UPDATE_INDEX(state, { tutorial, index }) {\n      assert(Number.isFinite(index), `index is not a number, got ${index}`);\n      tutorial.activeIndex = index;\n    },\n\n    MARK_TUTORIAL_COMPLETE(state, { tutorial }) {\n      tutorial.isComplete = true;\n    },\n\n    UNMARK_TUTORIAL_COMPLETE(state, { tutorial }) {\n      tutorial.isComplete = false;\n    },\n  },\n\n  actions: {\n    bootstrap({ dispatch, commit }) {\n      commit('BOOTSTRAP');\n    },\n\n    markTutorialComplete({ commit, getters }, { id }) {\n      const tutorial = getters.getTutorialById(id);\n\n      commit('MARK_TUTORIAL_COMPLETE', { tutorial })\n    },\n\n    unmarkTutorialComplete({ commit, getters }, { id }) {\n      const tutorial = getters.getTutorialById(id);\n\n      commit('UNMARK_TUTORIAL_COMPLETE', { tutorial })\n    },\n\n    /**\n     * Starts a tutorial from the beginning. If the tutorial has already been\n     * completed, this call will be ignored and no state changes will happen.\n     */\n    async begin({ dispatch }, { id }) {\n      return dispatch('start', { id, index: 0, begin: true });\n    },\n\n    async start({ dispatch, commit, getters }, payload) {\n      const { id, index, when } = payload;\n      const tutorial = getters.getTutorialById(id);\n\n      const predicate =\n        payload.hasOwnProperty('when') && when == null\n          // If when is passed and it loosely equals null, don't check any predicate\n          ? null\n          : payload.hasOwnProperty('when')\n            // else if when it is passed, use it\n            ? when\n            // Use the default predicate\n            : defaultStartPredicate;\n\n      if (typeof predicate !== 'function' || !predicate(tutorial, getters, payload)) {\n        return null;\n      }\n\n      console.log('Commiting start tutorial', {\n        goto: index,\n        active: tutorial.activeIndex\n      });\n\n      dispatch('fire', {\n        id,\n        index,\n        begin: payload.begin,\n        which: 'start',\n      });\n\n      commit('UPDATE_INDEX', { tutorial, index });\n    },\n\n    /**\n     * @param $store\n     * @param payload.id - the id for the tutorial to fire the clean up for\n     * @param payload.index - the specific step of the tutorial to finish\n     * @param payload.when - a predicate to determine whether or not the clean up should\n     *                       actually fire. The tutorial is passed as the first argument.\n     *\n     * @example\n     *   $store.dispatch('tutorials/finish', {\n     *     id: 'introduction',\n     *     index: 0,\n     *     // Only fires when the tutorial is actually on 0.\n     *     when: tutorial => tutorial.activeIndex === 0\n     *   })\n     */\n    async finish({ dispatch, commit, getters }, payload) {\n      const { id, index, when } = payload;\n      const tutorial = getters.getTutorialById(id);\n\n      const predicate =\n        payload.hasOwnProperty('when') && when == null\n          // If when is passed and it loosely equals null, don't check any predicate\n          ? null\n          : payload.hasOwnProperty('when')\n            // else if when it is passed, use it\n            ? when\n            // Use the default predicate\n            : defaultFinishPredicate;\n\n      if (typeof predicate !== 'function' || !predicate(tutorial, getters, payload)) {\n        return null;\n      }\n\n      console.log('Commiting finish tutorial', {\n        goto: index,\n        active: tutorial.activeIndex\n      });\n\n      dispatch('fire', {\n        id,\n        index,\n        which: 'finish',\n      });\n\n      commit('UPDATE_INDEX', { tutorial, index });\n    },\n\n    /**\n     * Initiates a tutorial step or fires the clean up for the tutorial step.\n     *\n     * @private\n     * @throws If the tutorial has not been manually started\n     *\n     * @param $store\n     * @param options.index - the step of the tutorial to show\n     * @param options.which - either \"start\" or \"finish\"\n     * @param options.id - the id of the tutorial\n     * @param options.begin - whether or not this action designates the beginning of the tutorial.\n     */\n    async fire($store, { index, which, id, begin=false }) {\n      const tutorialSteps = getTutorialStepsById(id);\n      const tutorial = $store.getters.getTutorialById(id);\n      const hasTutorialStarted = tutorial.activeIndex != null;\n      const isTutorialAtEnd = tutorial.activeIndex === tutorialSteps.length - 1;\n\n      if (!hasTutorialStarted && !begin) {\n        throw new Error(`Tutorial \"${id}\" has not been manually initiated`);\n      } else if (index >= tutorialSteps.length) {\n        throw new Error(`Tutorial \"${id}\" has only ${tutorialSteps.length} steps, got index ${index}`);\n      }\n\n      if (!tutorial.isComplete) {\n        await tutorialSteps[index][which]($store);\n      }\n\n      if (which === 'finish' && isTutorialAtEnd) {\n        await $store.dispatch('markTutorialComplete', { id });\n      } else {\n        await $store.dispatch('unmarkTutorialComplete', { id });\n      }\n\n      return {\n        isTutorialAtEnd,\n      };\n    },\n  },\n\n  getters: {\n    getTutorialById: (state) => (id) => {\n      assert(state.tutorials[id], `Tutorial \"${id}\" doesn't exist `);\n\n      return state.tutorials[id];\n    },\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/tutorials.js","\nimport * as EDITORS from '@/constants/editors';\nimport * as TUTORIALS from '@/constants/tutorials';\n\nconst DEFAULT_MAIN_EDITOR_VALUE = `\n\nvar user = {\n  username: 'musefan42',\n};\n\nconst createGreeting = () => {\n  return \\`Hello, $\\{user.username}! I'm delighted to meet you\\`;\n};\n\nconst greeting = createGreeting();\n\ngreeting;\n\n`;\n\nconst getEditorByQuery = ({ id='', state: editorState=[] }, state) => {\n  if (!Array.isArray(editorState)) throw new Error(`{Array<string>} state, got ${editorState}`);\n  if (typeof id !== 'string') throw new Error(`{string} id, got ${id}`);\n\n  const shouldMatchByHasFocus = editorState.includes('focused');\n\n  return state.editors.find(editor => {\n    const bools = [];\n\n    if (shouldMatchByHasFocus) {\n      bools.push(editor.hasFocus);\n    }\n\n    if (id !== '') {\n      bools.push(editor.id === id);\n    }\n\n    return bools.every(Boolean);\n  }) || null;\n};\n\nexport default {\n  namespaced: true,\n\n  state: {\n    editors: [\n      {\n        id: EDITORS.ID_MAIN,\n        value: DEFAULT_MAIN_EDITOR_VALUE,\n        coverageTotalLength: 0,\n        lastModifiedAt: null,\n        lastExecutedAt: null,\n        shouldExecute: false,\n        activeWalkthroughStepIndex: -1,\n        isWalkthroughPopupShowing: false,\n        isWalkthroughMarkerShowing: false,\n      }\n    ],\n  },\n\n  mutations: {\n    BOOTSTRAP(state, { isIntroductionTutorialComplete }) {\n      // FIXME: This is sort of a hack because I don't know how to make this\n      //        not persist in localStorage\n      state.editors = state.editors.map(editor => {\n        return {\n          ...editor,\n          activeWalkthroughStepIndex: -1,\n          coverageTotalLength: 0,\n          shouldExecute: false,\n          lastModifiedAt: null,\n          lastExecutedAt: null,\n          isWalkthroughPopupShowing: false,\n          isWalkthroughMarkerShowing: false,\n        }\n      });\n\n      // If the tutorial hasn't been finished, reset the editor value\n      if (!isIntroductionTutorialComplete) {\n        const editor =\n          state.editors.find(editor => editor.id === EDITORS.ID_MAIN);\n\n        editor.value = DEFAULT_MAIN_EDITOR_VALUE;\n      }\n    },\n\n    REGISTER(state, data) {\n      const {\n        id,\n        value,\n        lastModifiedAt=null,\n        lastExecutedAt=null,\n        shouldExecute=false,\n        activeWalkthroughStepIndex=-1,\n        isWalkthroughPopupShowing=false,\n      } = data;\n\n      state.editors.push({\n        id,\n        value,\n        lastModifiedAt,\n        lastExecutedAt,\n        shouldExecute,\n        activeWalkthroughStepIndex,\n        isWalkthroughPopupShowing,\n      });\n    },\n\n    MARK_SHOULD_EXECUTE(state, { editor }) {\n      editor.shouldExecute = true;\n    },\n\n    UNMARK_SHOULD_EXECUTE(state, { editor }) {\n      editor.shouldExecute = false;\n    },\n\n    MARK_WALKTHROUGH_VISIBLE(state, { editor }) {\n      editor.isWalkthroughPopupShowing = true;\n      editor.isWalkthroughMarkerShowing = true;\n    },\n\n    UNMARK_WALKTHROUGH_VISIBLE(state, { editor }) {\n      editor.isWalkthroughPopupShowing = false;\n      editor.isWalkthroughMarkerShowing = false;\n    },\n\n    MARK_WALKTHROUGH_MARKER_VISIBLE(state, { editor }) {\n      editor.isWalkthroughMarkerShowing = true;\n    },\n\n    UNMARK_WALKTHROUGH_MARKER_VISIBLE(state, { editor }) {\n      editor.isWalkthroughMarkerShowing = false;\n    },\n\n    MARK_WALKTHROUGH_POPUP_VISIBLE(state, { editor }) {\n      editor.isWalkthroughPopupShowing = true;\n    },\n\n    UNMARK_WALKTHROUGH_POPUP_VISIBLE(state, { editor }) {\n      editor.isWalkthroughPopupShowing = false;\n    },\n\n    MARK_FOCUSED(state, { editor }) {\n      editor.hasFocus = true;\n    },\n\n    UNMARK_FOCUSED(state, { editor }) {\n      editor.hasFocus = false;\n    },\n\n    CLEAR_WALKTHROUGH_POPUP(state, { editor }) {\n      editor.isWalkthroughPopupShowing = false;\n    },\n\n    SET_WALKTHROUGH_INDEX(state, { editor, index }) {\n      editor.walkthroughIndex = index;\n    },\n\n    SHOW_WALKTHROUGH_NEXT(state, { editor }) {\n      const step =\n        editor.coverageTotalLength === 0\n          ? -1\n          : Math.min(editor.coverageTotalLength - 1, editor.activeWalkthroughStepIndex + 1);\n\n      if (editor.coverageTotalLength > 0) {\n        editor.activeWalkthroughStepIndex = step;\n        editor.isWalkthroughPopupShowing = true;\n        editor.isWalkthroughMarkerShowing = true;\n      }\n    },\n\n    SHOW_WALKTHROUGH_PREVIOUS(state, { editor }) {\n      const step =\n        editor.coverageTotalLength === 0\n         ? -1\n         : Math.max(0, editor.activeWalkthroughStepIndex - 1);\n\n      editor.activeWalkthroughStepIndex = step;\n    },\n\n    SET_VALUE(state, { editor, value }) {\n      editor.value = value;\n    },\n\n    UPDATE_LAST_EXECUTED_TIME(state, { editor, time }) {\n      editor.lastExecutedAt = time;\n    },\n\n    UPDATE_LAST_MODIFIED_TIME(state, { editor, time }) {\n      editor.lastModifiedAt = time;\n    },\n\n    UPDATE_COVERAGE_TOTAL(state, { coverageTotalLength, editor }) {\n      editor.coverageTotalLength = coverageTotalLength;\n    },\n  },\n\n  actions: {\n    bootstrap: ($store) => {\n      $store.commit('BOOTSTRAP', {\n        isIntroductionTutorialComplete:\n          $store.rootGetters['tutorials/getTutorialById'](TUTORIALS.INTRODUCTION).isComplete,\n      });\n    },\n\n    register($store, data) {\n      $store.commit('REGISTER', data);\n    },\n\n    markShouldExecute($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('MARK_SHOULD_EXECUTE', { editor });\n    },\n\n    unmarkShouldExecute($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('UNMARK_SHOULD_EXECUTE', { editor });\n    },\n\n    markFocused($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('MARK_FOCUSED', { editor });\n    },\n\n    unmarkFocused($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('UNMARK_FOCUSED', { editor });\n    },\n\n    markWalkthroughVisible($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('MARK_WALKTHROUGH_VISIBLE', { editor });\n    },\n\n    unmarkWalkthroughVisible($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('UNMARK_WALKTHROUGH_VISIBLE', { editor });\n    },\n\n    markWalkthroughMarkerVisible($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('MARK_WALKTHROUGH_MARKER_VISIBLE', { editor });\n    },\n\n    unmarkWalkthroughMarkerVisible($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('UNMARK_WALKTHROUGH_MARKER_VISIBLE', { editor });\n    },\n\n    markWalkthroughPopupVisible($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('MARK_WALKTHROUGH_POPUP_VISIBLE', { editor });\n    },\n\n    unmarkWalkthroughPopupVisible($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('UNMARK_WALKTHROUGH_POPUP_VISIBLE', { editor });\n    },\n\n    clearWalkthroughPopup($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('CLEAR_WALKTHROUGH_POPUP', { editor });\n    },\n\n    setWalkthroughIndex($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('SET_WALKTHROUGH_INDEX', {\n        editor,\n        index: data.index,\n      });\n    },\n\n    showWalkthroughNext($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('SHOW_WALKTHROUGH_NEXT', { editor });\n    },\n\n    showWalkthroughPrevious($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('SHOW_WALKTHROUGH_PREVIOUS', { editor });\n    },\n\n    setValue($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('SET_VALUE', {\n        editor,\n        value: data.value,\n      });\n    },\n\n    updateLastExecutedTime($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('UPDATE_LAST_EXECUTED_TIME', {\n        editor,\n        time: data.time,\n      });\n    },\n\n    updateLastModifiedTime($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('UPDATE_LAST_MODIFIED_TIME', {\n        editor,\n        time: data.time,\n      });\n    },\n\n    updateCoverageTotal($store, data) {\n      const editor = $store.getters.getEditorByQuery(data.query);\n\n      $store.commit('UPDATE_COVERAGE_TOTAL', {\n        editor,\n        coverageTotalLength: data.coverageTotalLength,\n      });\n    },\n  },\n\n  getters: {\n    isEditorExecutionDirty: (state, getters) => (id) => {\n      const editor = getters.editorsById[id];\n\n      return (\n          editor.lastExecutedAt == null ||\n          editor.lastModifiedTime == null ||\n          editor.lastModifiedTime > editor.lastExecutedAt\n        );\n    },\n\n    editorsById: (state) => {\n      return state.editors.reduce((byId, editor) => {\n        byId[editor.id] = editor;\n\n        return byId;\n      }, {});\n    },\n\n    /**\n     * @param  {String} state - Array of '<focused>'\n     * @param  {Array<string>} state - Array of '<focused>'\n     */\n    getEditorByQuery: (state) => (query) => getEditorByQuery(query, state),\n\n    anyHasFocus(state) {\n      return state.editors.some(editor => editor.hasFocus);\n    },\n\n    anyEditorHasWalkthroughPopup(state) {\n      return state.editors.some(editor => editor.hasWalkthroughPopup);\n    },\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/editors.js","import assert from 'assert';\n\nconst defaultSettings = {\n  'execution.isWalkthroughEnabled': true,\n  'execution.mode': 'manual',\n};\n\nconst validators = {\n  'execution.isWalkthroughEnabled': (value) => typeof value === 'boolean',\n  'execution.mode': (value) => ['manual', 'automatic'].includes(value),\n};\n\nconst assertPath = (path) => {\n  assert(validators.hasOwnProperty(path), `Invalid settings path ${path}`);\n};\n\nexport default {\n  state: {\n    user: { ...defaultSettings },\n    default: defaultSettings,\n  },\n  mutations: {\n    updateSettings(state, settings) {\n      Object.entries(settings)\n        .forEach(([path, value]) => {\n          state.user[path] = value;\n        });\n    },\n  },\n  actions: {\n    updateSettings({ commit }, settings) {\n      commit('updateSettings', settings);\n    },\n  },\n  getters: {\n    /**\n     * Returns true if the path is in the user settings\n     */\n    hasUserSetting: (state) => (path) => {\n      assertPath(path);\n\n      return state.user.hasOwnProperty(path);\n    },\n\n    /**\n     * Returns a user setting based on a path or the default if the user setting is invalid.\n     */\n    getValidUserSetting: (state) => (path) => {\n      assertPath(path);\n\n      const value = state.user[path];\n\n      return validators[path](value) ? value : state.default[path];\n    },\n\n    getUserSetting: (state) => (path) => {\n      assertPath(path);\n\n      return state.user[path];\n    },\n\n    isSettingValid: (state) => (path) => {\n      assertPath(path);\n\n      return validators[path](state.user[path]);\n    },\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/settings.js","import assert from 'assert';\n\nimport * as NOTIFICATIONS from '@/constants/notifications';\n\nexport default {\n  namespaced: true,\n\n  state: {\n    notificationsById: {\n      [NOTIFICATIONS.WEB_WORKER_BUSY]: {\n        isShowing: false,\n        forEditor: true,\n        message: 'The web worker running your code seems to be hanging. To terminate the web worker, press the stop button. Otherwise, be careful and watch your CPU usage!',\n      },\n      [NOTIFICATIONS.INTRODUCTION_1]: {\n        isShowing: false,\n        message: `Press play!`,\n        size: 'small',\n      },\n      [NOTIFICATIONS.INTRODUCTION_2]: {\n        isShowing: false,\n        message: '<span style=\"font-weight: 600\">Tip:</span> Awesome! The code has now been executed. You can now see code coverage as well as the values for standalone variable names (like <code>greeting</code>).',\n        size: 'small',\n      },\n      [NOTIFICATIONS.INTRODUCTION_3]: {\n        isShowing: false,\n        message: `<span style=\"font-weight: 600\">Tip:</span> You can also see which expressions resolved first with these buttons. You can go back and forth as much as you please. <div style=\"margin-top: 15px\">You're all set to go!</div>`,\n        size: 'small',\n      },\n    },\n  },\n\n  mutations: {\n    MARK_NOTIFICATION_VISIBLE(state, id) {\n      assert(\n        NOTIFICATIONS[id] != null,\n        `Could not mark notification \"${id}\" visible`\n      );\n\n      state.notificationsById[id].isShowing = true;\n    },\n\n    UNMARK_NOTIFICATION_VISIBLE(state, id) {\n      assert(\n        NOTIFICATIONS[id] != null,\n        `Could not mark notification \"${id}\" visible`\n      );\n\n      state.notificationsById[id].isShowing = false;\n    },\n  },\n\n  actions: {\n    show({ commit }, { id }) {\n      commit('MARK_NOTIFICATION_VISIBLE', id);\n    },\n\n    hide({ commit }, { id }) {\n      commit('UNMARK_NOTIFICATION_VISIBLE', id);\n    },\n  },\n\n  getters: {\n    getById: state => id => {\n      if (!state.notificationsById.hasOwnProperty(id)) {\n        throw new Error(`Notification \"${id}\" does not exist`);\n      }\n\n      return state.notificationsById[id];\n    },\n\n    getEditorNotifications(state) {\n      return Object.entries(state.notificationsById)\n        .map(([key, item]) => {\n          item.id = key;\n\n          return item;\n        }).filter((item) => item.forEditor);\n    },\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/notifications.js","import createPersistedState from 'vuex-persistedstate'\n\nimport editors from './editors';\nimport settings from './settings';\nimport tutorials from './tutorials';\nimport notifications from './notifications';\n\nexport default {\n  strict: true,\n  plugins: [createPersistedState({\n    paths: [\n      'editors',\n      'settings',\n      'tutorials',\n    ],\n  })],\n  modules: {\n    editors,\n    settings,\n    tutorials,\n    notifications,\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","\nimport assert from 'assert';\n\nimport cuid from 'cuid';\nimport Keyboard from 'keyboardjs';\n\nexport const assertValidShortcut = (shortcut) => {\n  if (typeof shortcut.on !== 'function') {\n    throw new Error(`Invalid shortcut configuration, shortcut.on should be a function, got ${shortcut.on}`);\n  }\n\n  if (!Array.isArray(shortcut.keys)) {\n    throw new Error(`Invalid shortcut configuration, shortcut.key should be an array, got ${shortcut.keys}`);\n  }\n\n  if (!shortcut.keys.every(key => typeof key === 'string')) {\n    throw new Error(`Invalid shortcut configuration, shortcut key should be a string, got ${shortcut.keys}`);\n  }\n\n  if (!(shortcut.hasOwnProperty('when') ? typeof shortcut.when === 'function' : true)) {\n    throw new Error(`Invalid shortcut configuration, shortcut.when was passed but is not a function, got ${shortcut.when}`);\n  }\n\n  if (typeof shortcut.name !== 'string') {\n    throw new Error(`Invalid shortcut configuration, shortcut.name is not a string, got ${shortcut.name}`);\n  }\n};\n\nexport const bindShortcuts = ({\n  $store,\n  shortcuts,\n}) => {\n  return shortcuts.map((shortcut) => {\n    assertValidShortcut(shortcut);\n\n    const keys = Array.from(shortcut.keys);\n    const when = shortcut.when;\n\n    const listener = (e) => {\n      // If no predicate is passed then fire the shortcut\n      if (when == null) {\n        shortcut.on(e, $store);\n\n        return;\n      } else {\n        const shouldFire = when($store.state, $store.getters);\n\n        assert(typeof shouldFire === 'boolean', 'shortcut `when` handler did not return a boolean');\n\n        if (shouldFire) {\n          shortcut.on(e, $store);\n        }\n      }\n    };\n\n    keys.forEach(key => Keyboard.bind(key, listener));\n\n    const destroy = () => {\n      keys.forEach(key => {\n        Keyboard.unbind(key, listener);\n      });\n    };\n\n    return {\n      id: cuid(),\n      name: shortcut.name,\n      keys,\n      listener,\n      destroy,\n    };\n  });\n};\n\nexport const unbindShortcuts = ({ shortcuts }) => {\n  shortcuts.forEach((shortcut) => shortcut.destroy());\n};\n\nlet activeShortcuts = [];\n\nconst removeActiveShortcuts = (boundShortcuts) => {\n  activeShortcuts = activeShortcuts.filter(active => {\n    return boundShortcuts.some(bound => active.id === bound.id);\n  });\n\n  return activeShortcuts.slice(0);\n};\n\nconst addActiveShortcuts = (boundShortcuts) => {\n  for (const bound of boundShortcuts) {\n    if (activeShortcuts.every(active => active.id !== bound.id)) {\n      activeShortcuts.push(bound)\n    }\n  }\n\n  return activeShortcuts.slice(0);\n};\n\nconst assertHasShortcut = (name) => {\n  if (activeShortcuts.every(shortcut => shortcut.name !== name)) {\n    throw new Error(`could not find shortcut for name \"${shortcutName}\"`);\n  }\n};\n\nexport default {\n  install(Vue, { humanize: humanizeFormatter }={}) {\n\n\n    /**\n     * Returns a human readable from the name of a shortcut.\n     *\n     * @throws {Error} if the shortcut name does not map to an existing shortcut.\n     * @param  {String} shortcutName\n     * @return {String}\n     */\n    const humanize = (shortcutName) => {\n      const binding = activeShortcuts.find(item => item.name === shortcutName);\n\n      assertHasShortcut(shortcutName);\n\n      if (typeof humanizeFormatter === 'function') {\n        return humanizeFormatter(binding.keys, binding);\n      }\n\n      return `(${binding.keys.join(', ')})`;\n    };\n\n    /**\n     * Returns a mapping of arbirary keys to humanized shortcut keys.\n     *\n     * @param  {Object} obj - A mapping of arbitrary keys to shortcut names\n     */\n    const humanizeEntries = (obj) => {\n      return Object.keys(obj)\n        .reduce((all, name) => {\n          all[name] = humanize(obj[name]);\n\n          return all;\n        }, {});\n    };\n\n    Vue.prototype.$shortcuts = {\n      humanize,\n      humanizeEntries,\n    };\n\n    /**\n     * Sets shortcuts to be bound to the window\n     * @param {Array<Shortcut>} shortcuts\n     */\n    Vue.setShortcuts = function ({ $store, shortcuts }) {\n      if ($store == null || typeof $store !== 'object') {\n        throw new Error(`$store should be an object, got ${$store}`);\n      };\n\n      if (!Array.isArray(shortcuts)) {\n        throw new Error(`Shortcuts should be an array, got ${shortcuts}`);\n      }\n\n      const boundShortcuts = bindShortcuts({ $store, shortcuts });\n\n      addActiveShortcuts(boundShortcuts);\n\n      return activeShortcuts.slice(0);\n    };\n\n    Vue.unsetShortcuts = function ({ shortcuts }) {\n      if (!Array.isArray(shortcuts)) {\n        throw new Error(`Shortcuts should be an array, got ${shortcuts}`);\n      }\n\n      removeActiveShortcuts(shortcuts);\n      unbindShortcuts({ shortcuts });\n\n      return activeShortcuts.slice(0);\n    };\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/shortcuts.js","// @flow\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/monokai.css';\n\nimport 'normalize.css';\nimport 'animate.css';\nimport '@/styles/_utilities.scss';\nimport '@/styles/global.scss';\n\nimport App from './App';\nimport router from './router';\nimport storeDefinitions from './store';\n\nimport Shortcuts from '@/plugins/shortcuts';\n\n\nVue.use(Vuex);\nVue.use(Shortcuts);\n\nVue.config.productionTip = false;\n\nconst $store = new Vuex.Store(storeDefinitions);\n\n// For debugging purposes\nconsole.log('Store', $store);\n\n$store.subscribe(function(mutation, state) {\n  console.log('Store change', mutation)\n});\n\n// Anything that needs to be kicked off in the store goes here\n$store.dispatch('editors/bootstrap');\n$store.dispatch('tutorials/bootstrap');\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: {\n    App,\n  },\n  router,\n  store: $store,\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div>\n    <div ref=\"container\">\n      <transition-group\n        v-bind=\"transition\"\n        @before-enter=\"onTransitionBeforeEnter\"\n      >\n        <slot></slot>\n      </transition-group>\n    </div>\n    <slot name=\"reference\"></slot>\n  </div>\n</template>\n\n<script>\nimport Popper from 'popper.js';\n\n/**\n * A wrapper around PopperJS popup positioning library.\n */\nexport default {\n  props: {\n    /**\n     * Popper options\n     */\n    options: {\n      type: Object,\n      required: true,\n    },\n\n    /**\n     * Allows transitioning the popper element\n     */\n    transition: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  watch: {\n    'options.placement'() {\n      this.popper.scheduleUpdate();\n    },\n  },\n\n  mounted() {\n    this.$nextTick(() => {\n      this.updateElements();\n      this.updatePopper();\n      this.popper.scheduleUpdate();\n    });\n  },\n\n  destroyed() {\n    if (this.popper) {\n      this.popper.destroy();\n    }\n\n    this.popper = null;\n  },\n\n  methods: {\n    onTransitionBeforeEnter(el) {\n      // Can't do scheduleUpdate because we need this to be synchronous\n      this.popper.scheduleUpdate()\n    },\n\n    /**\n     * Destroys and cleans up the popper\n     */\n    destroyPopper() {\n      this.popper.destroy();\n      this.popper = null\n    },\n\n    /**\n     * Creates a new popper and assigns it to the component\n     */\n    updatePopper() {\n      if (this.popper) {\n        this.destroyPopper();\n      }\n\n      this.popper = this.createPopper();\n    },\n\n    /**\n     * Creates the popper controller\n     */\n    createPopper() {\n      return new Popper(this.referenceElement, this.popperElement, this.options);\n    },\n\n    /**\n     * Updates the references to the elements on the component\n     */\n    updateElements() {\n      const elements = this.getElements();\n\n      this.referenceElement = elements.referenceElement;\n      this.popperElement = elements.popperElement;\n    },\n\n    getElements() {\n      const referenceElement =\n        // Yes, nested ternaries. Sue me.\n        this.reference\n          ?\n            this.reference\n          : this.$slots.reference\n              ? this.$slots.reference[0].elm\n              : null;\n\n      const popperElement = this.$refs.container;\n\n      if (referenceElement == null || referenceElement.nodeType !== 1) {\n        throw new Error(`Invalid element from $slot \"reference\", got ${this.referenceElement}`);\n      }\n\n      return {\n        popperElement,\n        referenceElement,\n      };\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Popper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"container\"},[_c('transition-group',_vm._b({on:{\"before-enter\":_vm.onTransitionBeforeEnter}},'transition-group',_vm.transition,false),[_vm._t(\"default\")],2)],1),_vm._v(\" \"),_vm._t(\"reference\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c96275e6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Popper.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Popper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c96275e6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Popper.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Popper.vue\n// module id = null\n// module chunks = ","<template>\n  <div\n    :class=\"{ 'has-close': isCloseable }\"\n    class=\"EditorPopup\"\n    @mouseenter=\"onMouseEnter\"\n    @mouseleave=\"onMouseLeave\"\n  >\n    <div class=\"EditorPopup-content\">\n      <template v-for=\"(section, index) in content\">\n        <span\n          v-if=\"section.content\"\n          :key=\"'content-' + index\"\n          :class=\"getSectionClass(section.type)\"\n          class=\"EditorPopup-contentSection\"\n        >{{ section.content }}</span>\n        <span\n          v-if=\"section.partials\"\n          :key=\"'partials-' + index\"\n          class=\"EditorPopup-partial\"\n        >\n          <span\n            v-for=\"(partial, partialIndex) of section.partials\"\n            :key=\"partialIndex\"\n            :class=\"getSectionClass(partial.type)\"\n            class=\"EditorPopup-contentSection is-partial\"\n          >{{ partial.content }}</span>\n        </span>\n        <span\n          v-if=\"index != content.length - 1\"\n          :key=\"'separator-' + index\"\n          class=\"EditorPopup-separator\"\n        >\n        </span>\n      </template>\n    </div>\n    <button\n      v-show=\"isCloseable\"\n      class=\"EditorPopup-close\"\n      @click=\"onPopupClose\"\n    >\n      <span>&times;</span>\n    </button>\n  </div>\n</template>\n\n<script>\n\nimport cuid from 'cuid';\n\nimport { PopupType } from '@/constants/popups';\n\nexport default {\n  props: {\n    isCloseable: {\n      type: Boolean,\n      default: () => false,\n    },\n    cm: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      content: [],\n      isShowing: false,\n      isDestroyed: false,\n    };\n  },\n\n  created() {\n    this.tokens = [];\n  },\n\n  beforeDestroy() {\n    this.cancelAllHide();\n    this.cancelAllShow();\n    this.cm = null;\n  },\n\n  methods: {\n    onMouseEnter(e) {\n      this.$emit('popup-mouse-enter', e);\n    },\n\n    onMouseLeave(e) {\n      this.$emit('popup-mouse-leave', e);\n    },\n\n    onPopupClose() {\n      this.hide();\n    },\n\n    getSectionClass(type) {\n      return {\n        'is-info': type === PopupType.Info,\n        'is-code': type === PopupType.Code,\n      };\n    },\n\n    /**\n     * @example\n     *   popup.show({\n     *    content: [{\n     *        content: `This point can not be highlighted because it has been modified`,\n     *        type: 'info',\n     *      }, {\n     *        partials: [{\n     *          content: `${loc.start.line}:${loc.start.column}`,\n     *        }, {\n     *          type: 'code',\n     *          content: this.beautify(this.coverage.values[index]),\n     *        }],\n     *      },\n     *    ],\n     *    loc: {\n     *      line,\n     *      column: 0,\n     *    },\n     *  });\n     */\n\n    // TODO: scrollIntoView=true,\n    show({\n      content=[],\n      delay,\n      loc,\n    }={}) {\n      const token = {\n        type: 'show',\n      };\n\n      token.promise =\n        new Promise((resolve) => {\n          token.id = cuid();\n          token.timeout = setTimeout(() => {\n            this.cm.addWidget({\n              line: loc.line,\n              ch: loc.column,\n            }, this.$el);\n\n            this.content = content;\n\n            this.cm.scrollIntoView({\n              line: loc.line,\n              ch: loc.column + 50,\n            }, 200);\n\n            this.removeToken([token]);\n\n            this.isShowing = true;\n\n            resolve();\n          }, delay);\n        });\n\n      this.addToken([token]);\n\n      return token;\n    },\n\n    hide({ delay=0 }={}) {\n      const token = {\n        type: 'hide',\n      };\n\n      token.promise =\n        new Promise((resolve) => {\n          token.id = cuid();\n          token.timeout = setTimeout(() => {\n            if (this.$el.parentNode) {\n              this.$el.parentNode.removeChild(this.$el);\n            }\n\n            this.removeToken([token]);\n            this.isShowing = false;\n\n            resolve();\n          }, delay);\n        });\n\n      this.addToken([token]);\n\n      return token;\n    },\n\n    addToken(tokens) {\n      this.tokens = this.tokens.concat(tokens);\n    },\n\n    removeToken(tokens) {\n      this.tokens =\n        this.tokens.filter((token) => tokens.some(t => t.id === token.id));\n    },\n\n    cancelHide(tokens) {\n      tokens.forEach(token => clearTimeout(token.timeout));\n\n      this.removeToken(tokens);\n    },\n\n    cancelShow(tokens) {\n      tokens.forEach(token => clearTimeout(token.timeout));\n\n      this.removeToken(tokens);\n    },\n\n    cancelAllHide() {\n      this.cancelHide(this.tokens.filter(token => token.type === 'hide'));\n    },\n\n    cancelAllShow() {\n      this.cancelShow(this.tokens.filter(token => token.type === 'show'));\n    },\n\n    destroy() {\n      return this.hide().then(() => {\n        this.cm = null;\n      });\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\">\n\n.EditorPopup {\n  background-color: $app-editor-popup-background;\n  border-radius: 4px;\n  box-shadow: $app-box-shadow-1;\n  display: inline-block;\n  justify-content: space-between;\n  max-height: 233px;\n  max-width: 420px;\n  overflow: auto;\n  transition: 400ms opacity;\n  z-index: $app-walthrough-popup-layer;\n}\n\n.EditorPopup-contentSection {\n  display: block;\n  line-height: 1.6;\n  max-width: 100%;\n  padding: $app-editor-popup-padding-y $app-editor-popup-padding-r $app-editor-popup-padding-y $app-editor-popup-padding-l;\n\n  &.is-info {\n    background-color: rgba(black, 0.14);\n    border: 1px solid rgba(black, 0.06);\n    border-radius: 4px;\n    margin: 8px 6px;\n    white-space: normal;\n  }\n\n  &.is-code {\n    overflow: auto;\n    white-space: pre;\n  }\n\n  &.is-partial:not(:last-child) {\n    border-right: 1px solid rgba(black, 0.08);\n    padding-right: $app-editor-popup-padding-r;\n  }\n}\n\n.EditorPopup-partial {\n  display: flex;\n}\n\n.EditorPopup-separator {\n  border-bottom: 1px solid rgba(black, 0.16);\n  display: block;\n  width: 100%;\n\n  &:before {\n    content: '';\n    display: block;\n    width: 100%;\n  }\n}\n\n.EditorPopup-close {\n  display: none;\n  background-color: $color-error;\n  border: 0;\n  border-radius: 0 4px 4px 0;\n  color: white;\n  cursor: pointer;\n  font-size: 14px;\n  line-height: 1;\n  line-height: 24px;\n  outline: 0;\n  text-align: center;\n  user-select: none;\n  width: 22px;\n\n  > span {\n    line-height: inherit;\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/EditorPopup.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"EditorPopup\",class:{ 'has-close': _vm.isCloseable },on:{\"mouseenter\":_vm.onMouseEnter,\"mouseleave\":_vm.onMouseLeave}},[_c('div',{staticClass:\"EditorPopup-content\"},[_vm._l((_vm.content),function(section,index){return [(section.content)?_c('span',{key:'content-' + index,staticClass:\"EditorPopup-contentSection\",class:_vm.getSectionClass(section.type)},[_vm._v(_vm._s(section.content))]):_vm._e(),_vm._v(\" \"),(section.partials)?_c('span',{key:'partials-' + index,staticClass:\"EditorPopup-partial\"},_vm._l((section.partials),function(partial,partialIndex){return _c('span',{key:partialIndex,staticClass:\"EditorPopup-contentSection is-partial\",class:_vm.getSectionClass(partial.type)},[_vm._v(_vm._s(partial.content))])})):_vm._e(),_vm._v(\" \"),(index != _vm.content.length - 1)?_c('span',{key:'separator-' + index,staticClass:\"EditorPopup-separator\"}):_vm._e()]})],2),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isCloseable),expression:\"isCloseable\"}],staticClass:\"EditorPopup-close\",on:{\"click\":_vm.onPopupClose}},[_c('span',[_vm._v(\"\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-527c64ae\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/EditorPopup.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-527c64ae\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditorPopup.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditorPopup.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-527c64ae\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditorPopup.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/EditorPopup.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"Editor\">\n    <codemirror\n      ref=\"editor\"\n      :value=\"value\"\n      :options=\"cmOptions\"\n      @viewportChange=\"onViewportChange\"\n      @ready=\"onReady\"\n    >\n    </codemirror>\n  </div>\n</template>\n\n<script>\n\nimport assert from 'assert';\n\nimport CodeMirror from 'codemirror';\nimport { codemirror } from 'vue-codemirror';\nimport _ from 'lodash';\n\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/keymap/sublime';\nimport 'codemirror/theme/material.css';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/addon/comment/comment';\n\nimport emmet from '@emmetio/codemirror-plugin';\n\nemmet(CodeMirror);\n\nconst eventNames = [\n  // 'abort',\n  'beforeinput',\n  'blur',\n  'click',\n  // 'compositionstart',\n  // 'compositionupdate',\n  // 'compositionend',\n  'dblclick',\n  // 'error',\n  'focus',\n  'focusin',\n  'focusout',\n  'input',\n  'keydown',\n  'keypress',\n  'keyup',\n  // 'load',\n  'mousedown',\n  'mouseenter',\n  'mouseleave',\n  // 'mousemove',\n  // 'mouseout',\n  // 'mouseover',\n  'mouseup',\n  // 'resize',\n  // 'scroll',\n  // 'select',\n  // 'unload',\n  'wheel',\n];\n\nconst createCoverageMarker = (options) => {\n  const element = document.createElement('div');\n  const isCovered = options.isCovered ? 'is-covered' : 'is-uncovered';\n  const isError = options.isError ? 'is-error': '';\n\n  element.className = `CoverageMarker ${isCovered} ${isError}`;\n  element.textContent = '*';\n\n  return element;\n};\n\nconst GUTTER_KEY_COVERAGE = 'CoverageGutter';\n\n// eslint-disable-next-line no-unused-vars\nconst getSingleCharFromLoc = (simpleLoc) => {\n  return [{\n    line: simpleLoc.line - 1,\n    ch: simpleLoc.column,\n  }, {\n    line: simpleLoc.line - 1,\n    ch: simpleLoc.column + 1,\n  }];\n};\n\n// eslint-disable-next-line no-unused-vars\nconst createRangeId =\n  (start, end, execId) =>\n    `${execId}>${start.line}:${start.ch},${end.line}:${end.ch}`;\n\n/**\n * Emits:\n *   phantom-group-<MouseEvent.type> - Emits when a mouse event is triggered\n *   on the widget node itself\n *   phantom-<MouseEvent.type> - Emits when a mouse event is triggered on\n *   an individual phantom element\n */\n\nexport default {\n  name: 'Editor',\n\n  components: {\n    codemirror,\n  },\n\n  props: {\n    phantoms: {\n      type: Array,\n      required: true,\n      default: () => Object.freeze([]),\n    },\n\n    insertions: {\n      type: Object,\n      required: true,\n      default() {\n        return { items: Object.freeze([]) };\n      },\n      validator(value) {\n        return value && Array.isArray(value.items);\n      },\n    },\n\n    value: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      cmOptions: {\n        mode: 'javascript',\n\n        gutters: ['CodeMirror-linenumbers', 'CoverageGutter'],\n\n        autoCloseBrackets: true,\n        theme: 'material',\n        keyMap: 'sublime',\n        lineNumbers: true,\n        matchBrackets: true,\n        viewportMargin: 15,\n        showCursorWhenSelecting: true,\n        styleActiveLine: true,\n        tabSize: 2,\n\n        // Required by Emmet\n        markTagPairs: true,\n        autoRenameTags: true,\n\n        extraKeys: {\n          Tab: 'emmetExpandAbbreviation',\n          Enter: 'emmetInsertLineBreak',\n          'Ctrl-P'() {},\n          'Ctrl-N'() {},\n          'Ctrl-Shift-0'() {},\n        },\n      },\n    };\n  },\n\n  watch: {\n    phantoms() {\n      this.hasDirtyPhantoms = true;\n      this.updatePhantoms();\n    },\n  },\n\n  mounted() {\n   this.cm = this.getCodeMirror();\n  },\n\n  beforeDestroy() {\n    this.clearAllWidgets();\n    this.clearAllPhantoms();\n    this.cm.clearGutter(GUTTER_KEY_COVERAGE);\n  },\n\n  created() {\n    this.maxRecordedViewportLength = 0;\n    this.phantomPool = [];\n    this.widgets = [];\n    this.coveredByLine = {};\n    this.updatePhantomsDelayed = _.debounce(this.updatePhantoms, 200, {\n      trailing: true,\n    });\n  },\n\n  methods: {\n    clearBelow(startingLine) {\n      Object.keys(this.coveredByLine)\n        .forEach((key) => {\n          const line = (key | 0) + 1;\n\n          if (line > startingLine) {\n            this.cm.setGutterMarker(line, GUTTER_KEY_COVERAGE, null);\n          }\n        });\n    },\n\n    clearCoverage() {\n      return this.cm.clearGutter(GUTTER_KEY_COVERAGE);\n    },\n\n    renderInitialCoverage(insertions, execId) {\n      this.coveredByLine = {};\n      this.cm.operation(() => {\n        this.clearCoverage();\n\n        for (let i = 0; i < insertions.items.length; i += 1) {\n          const insertion = insertions.items[i];\n          const loc = insertion.node.loc;\n          const element = createCoverageMarker({ isCovered: false });\n\n          this.cm.setGutterMarker(loc.start.line - 1, GUTTER_KEY_COVERAGE, element);\n        }\n      });\n    },\n\n    renderCovered(locStart, execId, options={}) {\n      const { isCovered=false, isError=false } = options;\n      const line = locStart.line - 1;\n\n      if (this.coveredByLine[line]) {\n        return;\n      }\n\n      const element = createCoverageMarker({\n        isCovered,\n        isError,\n      });\n\n      this.cm.setGutterMarker(line, GUTTER_KEY_COVERAGE, element);\n      this.coveredByLine[line] = true;\n    },\n\n    clearAllPhantoms() {\n      this.hasDirtyPhantoms = false;\n      this.updatePhantoms(true);\n    },\n\n    getPhantoms() {\n      const phantoms =\n        this.phantoms.filter(phantom => (\n          typeof phantom.isExpired === 'function'\n            ? !phantom.isExpired(phantom)\n            : true\n          ),\n        );\n\n      return phantoms;\n    },\n\n    getValue() {\n      return this.cm.getValue();\n    },\n\n    getCodeMirror() {\n      return this.$refs.editor.codemirror;\n    },\n\n    getPhantomsInView(viewport) {\n      const phantoms =\n        this.phantoms.filter(p => this.isPhantomInView(p.line, viewport));\n\n      return phantoms;\n    },\n\n    /**\n     * Returns true if the line is being rendered on the screen.\n     *\n     * Note: It's important to note that the line index starts from 1. Also, a\n     *       line may be rendered but not necessarily visible on screen.\n     *\n     * @param  {Number}  _line         - The line index (starting from 1)\n     * @param  {Number}  viewport.from\n     * @param  {Number}  viewport.to\n     * @return {Boolean}\n     */\n    isPhantomInView(_line, viewport) {\n      const line = _line - 1;\n\n      return line >= viewport.from && line <= viewport.to;\n    },\n\n    updatePhantoms(force=false) {\n      // Don't bother updating the phantoms because it may cause old phantoms\n      // to be rendered on a previous old line and then its new line when.\n\n      if (!this.hasDirtyPhantoms && !force) {\n        return;\n      }\n\n      this.renderBlockPhantoms();\n\n      this.hasDirtyPhantoms = false;\n    },\n\n    getPhantomsByLine(phantoms) {\n      return phantoms.reduce((groups, phantom) => {\n        const line = phantom.line - 1;\n        let grouping = null;\n\n        if (!Object.prototype.hasOwnProperty.call(groups, line)) {\n          groups[line] = grouping = [];\n        } else {\n          grouping = groups[line];\n        }\n\n        grouping.push(phantom);\n\n        return groups;\n      }, {});\n    },\n\n    renderBlockPhantoms() {\n      const viewport = this.cm.getViewport();\n      const phantomsInView = this.getPhantomsInView(viewport);\n\n      this.phantomsByLine = this.getPhantomsByLine(phantomsInView);\n\n      this.cm.operation(() => {\n        // console.time('render-block');\n\n        // Remove the old phantoms and recycle the widget phantom node\n        this.clearAllWidgets();\n        this.widgets = this.createWidgets(this.phantomsByLine);\n        // console.timeEnd('render-block');\n      });\n    },\n\n    clearAllWidgets() {\n      // Remove the old phantoms and recycle the widget phantom node\n      this.widgets.forEach((widget) => {\n        widget.clear();\n        this.removeWidgetListeners(widget.node);\n        this.addElementToPool(widget.node);\n      });\n    },\n\n    addWidgetListeners(node) {\n      eventNames.forEach(name => {\n        const children = node.querySelector('.Phantom-messageList').children;\n\n        node.addEventListener(name, this.onWidgetEvent);\n\n        for (let i = 0; i < children.length; i++) {\n          children[i].addEventListener(name, this.onPhantomEvent);\n        }\n      });\n    },\n\n    removeWidgetListeners(node) {\n      const children = node.querySelector('.Phantom-messageList').children;\n\n      eventNames.forEach(name => node.removeEventListener(name, this.onWidgetEvent));\n\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n\n        eventNames.forEach(name => node.removeEventListener(name, this.onPhantomEvent));\n        child.phantom = null;\n      }\n    },\n\n    /**\n     * Creates widgets from an object mapping lines to an array of phantom objects.\n     * @param  {Object} phantomsByLine\n     * @return {Array}\n     */\n    createWidgets(phantomsByLine) {\n      return Object.entries(phantomsByLine)\n        .reduce((widgets, [l, phantoms]) => {\n          const line = Number(l);\n\n          const phantomElement =\n            this.getPhantomElement({\n              line,\n              contents: phantoms,\n            });\n\n          const widget =\n            this.cm.addLineWidget(line, phantomElement, {\n              coverGutter: false,\n              noHScroll: true,\n            });\n\n          widgets.push(widget);\n\n          this.addWidgetListeners(widget.node);\n\n          widget.node.phantom = phantoms;\n\n          return widgets;\n        }, []);\n    },\n\n    addElementToPool(el) {\n      el.phantoms = null;\n\n      for (let i = 0; i < el.children.length; i++) {\n        el.children[i].phantom = null;\n      }\n\n      this.phantomPool.push(el);\n    },\n\n    getPooledElement() {\n      if (this.phantomPool.length) {\n        // console.log('LOOK, POOLING DAD', this.phantomPool.length,\n        // this.phantomPool.map(el => el.textContent))\n        return this.phantomPool.shift();\n      }\n\n      return document.createElement('div');\n    },\n\n    updatePhantomElement(el, {\n      column,\n      line,\n      contents: phantoms,\n      maxPerLine=10,\n    }) { /* eslint-disable no-param-reassign */\n      // Reset the elements attributes in case they aren't reset wherever they are used\n\n      const token = this.cm.getTokenAt({ line, ch: 0 });\n      const whitespace =\n        Number.isFinite(column)\n          ? ' '.repeat(column)\n          : ' '.repeat(token.state.indented);\n\n      el.className = `Phantom`;\n      el.style.display = 'block';\n      el.innerHTML =\n        // DO NOT ADD WHITESPACE IN THE Phantom-indent ELEMENT\n        `<span class=\"Phantom-indent\">${whitespace}</span>\n        <span class=\"Phantom-messageList\"></span>`;\n\n      const fragment = document.createDocumentFragment();\n\n      let hey = 0;\n\n      for (let i = 0; i < phantoms.length; i += 1) {\n        if (hey > maxPerLine) {\n          break;\n        }\n\n        const phantom = phantoms[i];\n        const div = document.createElement('span');\n\n        const { content, className='' } = phantom;\n        const comma =\n          phantoms.length > 1 && i != phantoms.length - 1\n            ? ', '\n            : '';\n\n        div.phantom = phantom;\n        div.textContent = content.join(', ') + comma;\n        // TODO: Enforce a max line length/max item length\n        div.textContent = content.slice(0, 10).join(', ') + comma;\n        div.className = `Phantom-messageListItem ${className}`;\n\n        fragment.appendChild(div);\n      }\n\n      let messageList = el.querySelector('.Phantom-messageList');\n\n      messageList.appendChild(fragment);\n\n      // NOTE: This is necessary to know which phantoms were mouseentered\n      el.phantoms = phantoms;\n\n      this.addWidgetListeners(el);\n\n      return el;\n    },\n\n    getPhantomElement(phantom) {\n      const div = this.getPooledElement();\n\n      return this.updatePhantomElement(div, phantom);\n    },\n\n    onPhantomEvent(e) {\n      assert(e.currentTarget.phantom, 'phantom is not an object');\n\n      if (e.target === e.currentTarget) {\n        this.$emit(`phantom-${e.type}`, e, e.currentTarget.phantom);\n      }\n    },\n\n    onWidgetEvent(e) {\n      assert(e.currentTarget.phantoms, 'phantoms is not an array');\n\n      if (e.target === e.currentTarget) {\n        this.$emit(`phantom-group-${e.type}`, e, e.currentTarget.phantoms);\n      }\n    },\n\n    onReady() {\n      this.$emit('ready');\n    },\n\n    onViewportChange() {\n      this.updatePhantomsDelayed(true);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n\n/**\n * 1. There is significant lag when the position is set to static or\n *    relative and the codeMirror `viewportMargin` is set to `Infinity`.\n *    The lag begins at around 900 lines, but with `position: absolute`\n *    it can take 10,000 lines without lagging.\n */\n\n.Editor {\n  font-size: inherit;\n  height: 100%;\n  line-height: inherit;\n  position: absolute; /* [1] */\n  width: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Editor\"},[_c('codemirror',{ref:\"editor\",attrs:{\"value\":_vm.value,\"options\":_vm.cmOptions},on:{\"viewportChange\":_vm.onViewportChange,\"ready\":_vm.onReady}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a916664\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a916664\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a916664\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a916664\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Editor.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"Settings\">\n    <header class=\"Settings-header\">\n      <h1 class=\"Settings-title\">Settings</h1>\n    </header>\n\n    <div class=\"Settings-container\">\n      <div class=\"Settings-content\">\n        <div class=\"Settings-group\">\n          <label\n            for=\"editors_settings_mode\"\n            class=\"Settings-label\"\n          >\n            <span>Execution Mode: </span>\n          </label>\n          <select\n            ref=\"executionMode\"\n            v-model=\"liveSettings['execution.mode']\"\n            class=\"Settings-select\"\n            @change=\"onSettingChange('execution.mode', $refs.executionMode)\"\n          >\n            <option value=\"manual\">Manual (via ctrl+enter)</option>\n            <option\n              value=\"automatic\"\n              disabled\n            >\n              Automatic (as you type)\n            </option>\n          </select>\n          <p class=\"Settings-description\">\n            Manual mode only executes code with ctrl+enter. Automatic <b style=\"font-weight: 600\">(currently unavailable)</b> will execute code every n milliseconds after typing.\n          </p>\n        </div>\n        <div class=\"Settings-group\">\n          <label\n            for=\"execution\"\n            class=\"Settings-label\"\n          >\n            Walkthrough:\n          </label>\n          <input\n            type=\"checkbox\"\n            v-model=\"liveSettings['execution.isWalkthroughEnabled']\"\n            ref=\"isWalkthroughEnabled\"\n            @change=\"onSettingChange('execution.isWalkthroughEnabled', $refs.isWalkthroughEnabled.value)\"\n          >\n          <span class=\"Settings-subtitle\">(Slower when checked)</span>\n          <p class=\"Settings-description\">\n            Normal execution will execute the code, give coverage feedback, and will render values for identifier expressions. Walkthrough will do all of that, but also allows a walkthrough of how the expressions resolved.\n          </p>\n        </div>\n      </div>\n    </div>\n    <div class=\"Settings-actionList\">\n      <button\n        class=\"Settings-save\"\n        @click=\"onConfirmChanges\"\n      >\n        Save\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Settings',\n\n  props: {\n    settings: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data(component) {\n    return {\n      liveSettings: Object.assign({}, component.$props.settings),\n    };\n  },\n\n  methods: {\n    discardLiveSettings() {\n      this.liveSettings = {\n        ...this.$props.settings,\n      };\n    },\n\n    onSettingChange(name, value) {\n      this.$emit('setting-change', { name: value });\n    },\n\n    onConfirmChanges() {\n      this.$emit('confirm-changes', { ...this.liveSettings });\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\">\n\n.Settings-header {\n  background-color: $app-editor-settings-background-color;\n  border-radius: $app-editor-settings-border-radius $app-editor-settings-border-radius 0 0;\n}\n\n.Settings-title {\n  border-bottom: 1px solid rgba(black, 0.1);\n  font-size: 32px;\n  line-height: 1.1;\n  font-weight: 200;\n  letter-spacing: 3px;\n  margin: 0;\n  padding-bottom: 1rem;\n  padding-left: 2rem;\n  padding-right: 2rem;\n  padding-top: 1rem;\n}\n\n.Settings-container {\n  overflow: hidden;\n  background-color: white;\n}\n\n.Settings-content {\n  max-height: 500px;\n  overflow: auto;\n  position: relative;\n  margin-bottom: 32px;\n  padding-left: 2rem;\n  padding-right: 2rem;\n  margin-top: 32px;\n  z-index: 1;\n\n  > :last-child {\n    margin-bottom: 0;\n  }\n}\n\n.Settings-subtitle {\n  font-size: 11px;\n  margin-left: 3px;\n}\n\n.Settings-group {\n  margin-bottom: 24px;\n}\n\n.Settings-select {\n  font-size: 14px;\n}\n\n.Settings-label {\n  font-size: 12px;\n  font-weight: 600;\n  // display: block;\n  margin-bottom: 6px;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n}\n\n.Settings-description {\n  font-size: 13px;\n  line-height: 1.8;\n  margin-top: 10px;\n}\n\n.Settings-actionList {\n  // display: flex;\n}\n\n// .Settings-actionList > :first-child {\n//   border-right: 1px solid rgba(black, 0.06);\n//   border-bottom-left-radius: 4px;\n// }\n\n// .Settings-actionList > :last-child {\n//   border-bottom-right-radius: 4px;\n//   background-color: #eaaa5d;\n// }\n\n// .Settings-discard {\n//   background-color: transparent;\n//   border: 0;\n//   font-size: 14px;\n//   cursor: pointer;\n//   margin-bottom: 1rem;\n//   margin-right: 1rem;\n// }\n\n.Settings-save {\n  background: #d6c96b;\n  // background-color: #5abef9;\n  // background-color: $color-gray;\n  border: 0;\n  border-top: 1px solid rgba(black, 0.1);\n  border-radius: 0 0 $app-editor-settings-border-radius $app-editor-settings-border-radius;\n  cursor: pointer;\n  color: white;\n  display: block;\n  font-family: Montserrat;\n  font-size: 15px;\n  font-weight: 400;\n  outline: 0;\n  padding: 1rem 0;\n  text-align: center;\n  user-select: none;\n  // width: 50%;\n  width: 100%;\n\n  &:link,\n  &:visited,\n  &:hover,\n  &:active {\n    color: white;\n  }\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Settings.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Settings\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"Settings-container\"},[_c('div',{staticClass:\"Settings-content\"},[_c('div',{staticClass:\"Settings-group\"},[_vm._m(1),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.liveSettings['execution.mode']),expression:\"liveSettings['execution.mode']\"}],ref:\"executionMode\",staticClass:\"Settings-select\",on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.liveSettings, 'execution.mode', $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){_vm.onSettingChange('execution.mode', _vm.$refs.executionMode)}]}},[_c('option',{attrs:{\"value\":\"manual\"}},[_vm._v(\"Manual (via ctrl+enter)\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"automatic\",\"disabled\":\"\"}},[_vm._v(\"\\n            Automatic (as you type)\\n          \")])]),_vm._v(\" \"),_vm._m(2)]),_vm._v(\" \"),_c('div',{staticClass:\"Settings-group\"},[_c('label',{staticClass:\"Settings-label\",attrs:{\"for\":\"execution\"}},[_vm._v(\"\\n          Walkthrough:\\n        \")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.liveSettings['execution.isWalkthroughEnabled']),expression:\"liveSettings['execution.isWalkthroughEnabled']\"}],ref:\"isWalkthroughEnabled\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.liveSettings['execution.isWalkthroughEnabled'])?_vm._i(_vm.liveSettings['execution.isWalkthroughEnabled'],null)>-1:(_vm.liveSettings['execution.isWalkthroughEnabled'])},on:{\"change\":[function($event){var $$a=_vm.liveSettings['execution.isWalkthroughEnabled'],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.liveSettings['execution.isWalkthroughEnabled']=$$a.concat([$$v]))}else{$$i>-1&&(_vm.liveSettings['execution.isWalkthroughEnabled']=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.$set(_vm.liveSettings, 'execution.isWalkthroughEnabled', $$c)}},function($event){_vm.onSettingChange('execution.isWalkthroughEnabled', _vm.$refs.isWalkthroughEnabled.value)}]}}),_vm._v(\" \"),_c('span',{staticClass:\"Settings-subtitle\"},[_vm._v(\"(Slower when checked)\")]),_vm._v(\" \"),_c('p',{staticClass:\"Settings-description\"},[_vm._v(\"\\n          Normal execution will execute the code, give coverage feedback, and will render values for identifier expressions. Walkthrough will do all of that, but also allows a walkthrough of how the expressions resolved.\\n        \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"Settings-actionList\"},[_c('button',{staticClass:\"Settings-save\",on:{\"click\":_vm.onConfirmChanges}},[_vm._v(\"\\n      Save\\n    \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"Settings-header\"},[_c('h1',{staticClass:\"Settings-title\"},[_vm._v(\"Settings\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"Settings-label\",attrs:{\"for\":\"editors_settings_mode\"}},[_c('span',[_vm._v(\"Execution Mode: \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"Settings-description\"},[_vm._v(\"\\n          Manual mode only executes code with ctrl+enter. Automatic \"),_c('b',{staticStyle:{\"font-weight\":\"600\"}},[_vm._v(\"(currently unavailable)\")]),_vm._v(\" will execute code every n milliseconds after typing.\\n        \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d0162378\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Settings.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d0162378\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Settings.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Settings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d0162378\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Settings.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Settings.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <!-- <iframe\n      frameborder=\"0\"\n      style=\"display: none;\"\n      :src=\"url\"\n      @load=\"onLoad\"\n      ref=\"iframe\"></iframe> -->\n  </div>\n</template>\n\n<script>\nimport Talkie from 'editorconnect-node/dist/talkie';\nimport * as Messages from 'editorconnect-node/dist/messages';\nimport cuid from 'cuid';\n\nimport logger from '@/logger';\nimport Worker from 'worker-loader!@/sandbox';\n\nconst ORIGIN = cuid();\n\nclass SandboxTalkie extends Talkie {\n  constructor(sender, options) {\n    super(options);\n    this.sender = sender;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  get origin() {\n    return { id: ORIGIN };\n  }\n\n  send(message) {\n    this.sender.postMessage(message);\n  }\n}\n\nexport default {\n  name: 'Sandbox',\n\n  props: {\n    url: { type: String, required: true },\n    origin: { type: String, required: true },\n  },\n\n  data() {\n    return {\n      ready: false,\n    };\n  },\n\n  mounted() {\n    this.isBusy = false;\n    this.start();\n  },\n\n  destroyed() {\n    this.stop();\n  },\n\n  methods: {\n    onMessage({ data: messages }) {\n\n      if (messages.sandboxReady) {\n        this.onWorkerReady();\n      } else {\n        this.talkie.dispatch(messages);\n\n        const chunkedMessages =\n          messages.reduce((chunks, message) => {\n            const last = chunks[chunks.length - 1];\n\n            // This if statement is here to filter out pongs from being console logged\n            if (message.type === 'pong') {\n              return chunks;\n            }\n\n            if (message.type === 'reply') {\n              if (message.done && message.to.event === 'exec') {\n                chunks.push([message], []);\n              } else {\n                last.push(message);\n              }\n            }\n\n            return chunks;\n          }, [[]]);\n\n\n        for (const chunk of chunkedMessages) {\n          if (chunk.length === 0) {\n            continue;\n          }\n\n          const firstMessage = chunk[0];\n\n          if (firstMessage.done) {\n            let event = 'done';\n\n            if (firstMessage.payload?.result.error != null) {\n              event = 'runtime-error';\n            }\n\n            this.$emit(event, firstMessage.payload);\n          } else {\n            // if (message.part > 8000) {\n            //   // Once we reach this, we're just gonna stop because that's going to be very\n            //   // cpu and memory intensive\n            //   this.restart();\n            //   this.$emit('force-restart');\n            //   break;\n            // }\n\n            // console.log('Replies:', chunk.length);\n            this.$emit('replies', chunk.map(({ payload }) => payload));\n          }\n        }\n\n      }\n    },\n\n    async injectCode(options) {\n      const { input, execId, filename, dirname, sourcemap } = options;\n\n      const outgoingPayload = {\n        __filename: filename,\n        __dirname: dirname,\n        input,\n        execId,\n        sourcemap,\n      };\n\n      if (this.talkie != null) {\n        this.talkie.call('exec', outgoingPayload);\n      }\n\n      return null;\n    },\n\n    requestValue(insertions) {\n      return this.talkie.call('request-value', {\n        insertions,\n      });\n    },\n\n    onWorkerReady() {\n      this.talkie.startPings();\n      console.timeEnd('start');\n    },\n\n    async onLoad() {\n      this.$emit('load');\n      this.loaded = true;\n      this.queue.slice(0, 1).forEach(options => this.injectCode(options));\n    },\n\n    restart() {\n      this.stop();\n      this.start();\n    },\n\n    stop() {\n      logger.info('Stopping sandbox');\n\n      if (this.worker) {\n        this.worker.terminate();\n        this.worker.removeEventListener('message', this.onMessage);\n      }\n\n      if (this.talkie) {\n        this.talkie.stopPings();\n        this.talkie.removeAllListeners();\n      }\n\n      logger.info('Sandbox stopped');\n    },\n\n    start() {\n      this.stop();\n\n      console.time('start');\n      this.worker = new Worker();\n      this.worker.addEventListener('message', this.onMessage);\n      this.talkie = new SandboxTalkie(this.worker, { pingFrequency: 100 });\n\n      let lastTime = Date.now();\n\n      this.talkie.on('this:failed-ping', () => {\n        if (this.isBusy === false) {\n          this.isBusy = true;\n          this.$emit('busy', Date.now() - lastTime);\n        }\n      });\n\n      this.talkie.on('this:pong', () => {\n        if (this.isBusy) {\n          lastTime = 0;\n          this.isBusy = false;\n          this.$emit('free');\n        }\n      });\n\n      logger.info('Sandbox started');\n    },\n\n  },\n\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Sandbox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eb84b094\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Sandbox.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sandbox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eb84b094\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sandbox.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Sandbox.vue\n// module id = null\n// module chunks = ","<template>\n  <div\n    :class=\"Object.assign({}, {\n      'is-sizeSmall': size === 'small',\n      'is-sizeLarge': size === 'large',\n    }, classes)\"\n    :style=\"Object.assign({}, styles)\"\n    class=\"Notification\"\n    role=\"alert\"\n  >\n    <div class=\"Notification-body\">\n      <button class=\"Notification-close\">&times;</button>\n      <div\n        v-if=\"typeof message === 'string'\"\n        class=\"Notification-message\"\n        v-html=\"message\"\n      ></div>\n      <div\n        v-if=\"typeof message !== 'string'\"\n        class=\"Notification-message\"\n      >\n        <slot></slot>\n      </div>\n      <div\n        v-if=\"actions.length\"\n        class=\"Notification-actions\"\n      >\n        <button\n          v-for=\"action in actions\"\n          :key=\"action.id\"\n          class=\"Notification-actionItem\"\n          @click=\"$emit('action', action.id)\"\n        >{{ action.text }}</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  created() {\n    console.log(this.$props);\n\n  },\n\n  props: {\n    styles: {\n      type: Object,\n      default: () => ({}),\n    },\n\n    classes: {\n      type: Object,\n      default: () => ({}),\n    },\n\n    actions: {\n      type: Array,\n      default: () => [],\n    },\n\n    size: {\n      type: String,\n      default: 'large',\n      validator(value) {\n        return ['small', 'large'].includes(value);\n      },\n    },\n\n    message: {\n      type: String,\n      default: null,\n    },\n  },\n};\n\n</script>\n\n<style lang=\"scss\">\n\n.Notification {\n  background-color: $app-notification-background-default;\n  border-radius: $app-notification-border-radius;\n  color: $app-notification-color-default;\n  box-shadow: $app-box-shadow-1;\n  margin-bottom: 1rem;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 400px;\n  padding-top: $app-notification-padding-y;\n  padding-bottom: $app-notification-padding-y;\n  position: relative;\n  width: auto;\n\n  &:before {\n    border-bottom: 11px solid transparent;\n    border-left: 8px solid $app-notification-background-default;\n    border-top: 11px solid transparent;\n    content: '';\n    position: absolute;\n    top: 0.5rem;\n    right: 2px;\n    transform: translate(100%, 0);\n  }\n\n  &.is-sizeSmall {\n    padding-top: $app-notification-padding-small-y;\n    padding-bottom: $app-notification-padding-small-y;\n\n    .Notification-actions {\n      padding-left: $app-notification-padding-small-x;\n      padding-right: $app-notification-padding-small-x;\n    }\n\n    .Notification-message {\n      padding-left: $app-notification-padding-small-x;\n      padding-right: $app-notification-padding-small-x;\n    }\n  }\n}\n\n.Notification.is-error {\n  background-color: $app-notification-background-error;\n  color: $app-notification-color-error;\n  text-shadow: 0 1px 1px rgba(black, 0.1);\n\n  &:before {\n    border-left-color: $app-notification-background-error;\n  }\n}\n\n.Notification-body {\n  position: relative;\n}\n\n.Notification-close {\n  @include button;\n  display: none;\n  color: #2b292b;\n  font-size: 24px;\n  position: absolute;\n  padding: 6px 8px;\n  right: 0;\n  top: 0;\n}\n\n.Notification-message {\n  color: inherit;\n  font-size: 12px;\n  line-height: 1.8;\n  padding-left: $app-notification-padding-x;\n  padding-right: $app-notification-padding-x;\n}\n\n// - Orange #f29100\n// - Seafoam #9bc2d8\n\n.Notification-actions {\n  background-color: rgba(white, 0.06);\n  padding-left: $app-notification-padding-x;\n  padding-right: $app-notification-padding-x;\n  margin-top: 6px; text-align: right;\n}\n\n.Notification-actionItem {\n  background-color: #ef276d;\n  background-color: #e8b92c;\n  background-color: transparent;\n  border: 1px solid rgba(black, 0.6);\n  border-radius: 3px;\n  font-family: inherit;\n  color: rgba(black, 0.82);\n  cursor: pointer;\n  font-size: 12px;\n  line-height: 1.5;\n  outline: 0;\n  padding: 4px 16px;\n  transition-duration: 250ms;\n  transition-property: background-color, color, box-shadow;\n  user-select: none;\n\n  &:hover {\n    background-color: rgba(black, 0.82);\n    color: white;\n  }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Notification.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Notification\",class:Object.assign({}, {\n    'is-sizeSmall': _vm.size === 'small',\n    'is-sizeLarge': _vm.size === 'large',\n  }, _vm.classes),style:(Object.assign({}, _vm.styles)),attrs:{\"role\":\"alert\"}},[_c('div',{staticClass:\"Notification-body\"},[_c('button',{staticClass:\"Notification-close\"},[_vm._v(\"\")]),_vm._v(\" \"),(typeof _vm.message === 'string')?_c('div',{staticClass:\"Notification-message\",domProps:{\"innerHTML\":_vm._s(_vm.message)}}):_vm._e(),_vm._v(\" \"),(typeof _vm.message !== 'string')?_c('div',{staticClass:\"Notification-message\"},[_vm._t(\"default\")],2):_vm._e(),_vm._v(\" \"),(_vm.actions.length)?_c('div',{staticClass:\"Notification-actions\"},_vm._l((_vm.actions),function(action){return _c('button',{key:action.id,staticClass:\"Notification-actionItem\",on:{\"click\":function($event){_vm.$emit('action', action.id)}}},[_vm._v(_vm._s(action.text))])})):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31492ae8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Notification.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31492ae8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":[\\\"/Users/tony/Documents/Github/lively-browser/src/styles/_variables.scss\\\"]}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Notification.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Notification.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31492ae8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Notification.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Notification.vue\n// module id = null\n// module chunks = ","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"148749d3b32445f64e9f.worker.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/worker-loader/dist/cjs.js!./src/sandbox.js\n// module id = uElS\n// module chunks = 4"],"sourceRoot":""}